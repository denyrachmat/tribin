import{s as r,o as h,B as g,P as S,I as t,E as a,D as o,Z as f,am as m,L as w,M as d,bc as b,O as i,aX as C,Q as V}from"./index.416c4f6b.js";import{a as D,k as R}from"./QTable.4260baea.js";import{api_web as M}from"./axios.981e205b.js";const T={class:"q-pa-md"},x={class:"row"},N={class:"col"},k={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},Q={class:"text-h5 text-bold"},U={class:"text-h6 text-bold"},O={class:"text-subtitle2"},P={class:"text-h6 text-bold"},I=t("div",{class:"text-subtitle2"},"Resolved Items",-1),L={class:"row"},p={class:"col"},H=t("div",{class:"col text-right"},null,-1),G={__name:"serviceApproval",setup(A){D(),r([{name:"SRVH_DOCNO",label:"SPK No",field:"SRVH_DOCNO",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"resolve",label:"Resolved Line",sortable:!0,align:"left",field:l=>l.resolve.length},{name:"unresolve",label:"Unresolved Line",sortable:!0,align:"left",field:l=>l.unresolve.length},{name:"SRVH_ISSDT",label:"Submited Date",field:"SRVH_ISSDT",sortable:!0,align:"left"}]);const u=r([]),c=r(""),n=r(!1);r(null),h(()=>{v()});const v=async()=>{n.value=!0,await M.get("servicesAdmins/listUnapproveMgr").then(l=>{n.value=!1,u.value=l.data.data}).catch(l=>{n.value=!1})};return(l,_)=>(g(),S("div",T,[t("div",x,[t("div",N,[a(R,{grid:"",flat:"",bordered:"","card-container-class":l.cardContainerClass,title:"Approve Service Pricing",rows:u.value,columns:l.columns,"row-key":"name",filter:c.value,"hide-header":"",pagination:{rowsPerPage:50},"rows-per-page-options":l.rowsPerPageOptions,loading:n.value},{"top-right":o(()=>[a(f,{borderless:"",dense:"",debounce:"300",modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=e=>c.value=e),placeholder:"Search"},{append:o(()=>[a(m,{name:"search"})]),_:1},8,["modelValue"])]),item:o(e=>[t("div",k,[a(w,{flat:"",bordered:""},{default:o(()=>[a(d,{class:b(`text-center bg-${l.statusMaker(e.row).color} text-white`)},{default:o(()=>[t("div",Q,i(e.row.SRVH_DOCNO),1),t("div",null,i(l.statusMaker(e.row).label),1)]),_:2},1032,["class"]),a(C),a(d,null,{default:o(()=>[t("div",U,i(e.row.MCUS_CUSNM),1),t("div",O,i(e.row.SRVH_ISSDT),1)]),_:2},1024),a(d,null,{default:o(()=>[t("div",P,i(e.row.resolve.length)+" of "+i(e.row.detail.length),1),I]),_:2},1024),a(d,null,{default:o(()=>[t("div",L,[t("div",p,[a(V,{label:e.row.detail.filter(s=>s.TSRVD_FLGSTS===1).length==e.row.detail.length?"Waiting Cust. Approval":e.row.detail.filter(s=>s.TSRVD_FLGSTS===5).length==e.row.detail.length?"Waiting Mgr. Approval":"Resolve",color:"primary",outline:"",onClick:s=>l.onClickPreview(e.row,e.row.resolve.length==e.row.detail.length?"approve":"edit"),disable:e.row.detail.filter(s=>s.TSRVD_FLGSTS===1).length==e.row.detail.length||e.row.detail.filter(s=>s.TSRVD_FLGSTS===5).length==e.row.detail.length},null,8,["label","onClick","disable"])]),H])]),_:2},1024)]),_:2},1024)])]),_:1},8,["card-container-class","rows","columns","filter","rows-per-page-options","loading"])])])]))}};export{G as default};
