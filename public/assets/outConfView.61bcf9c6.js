import{s as r,o as k,B as m,C as h,D as l,E as a,L as R,M as I,I as n,O as D,P as v,R as g,S as C,bc as S,Z as b,Y as q,aX as N,am as $,H as T,Q as B}from"./index.05a8bd35.js";import{a as L,l as U,k as E,m as Q}from"./QTable.0e4b2872.js";import{Q as y,a as w}from"./QTd.7c195d87.js";import{Q as H}from"./QTooltip.0383e384.js";import{api_web as O}from"./axios.45a7a45b.js";const P={class:"text-h6"},x={class:"col"},F={class:"col q-pl-md"},z={class:"col q-pl-md"},X={__name:"onCheckItem",props:{dataHeader:Array},setup(M){L();const V=M,p=r([]),f=r([]),s=r(!1);k(()=>{p.value=V.dataHeader.dlvdet,c()});const c=async d=>{s.value=!0,await O.post("item/searchAPITBL",{searchValue:d}).then(i=>{s.value=!1,f.value=i.data.data}).catch(()=>{s.value=!1})},_=(d,i,o,t)=>{i(async()=>{t==="item"&&await c(d)})};return(d,i)=>(m(),h(q,{ref:"dialogRef",onHide:d.onDialogHide,"transition-show":"slide-up","transition-hide":"slide-down","full-width":""},{default:l(()=>[a(R,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[a(I,null,{default:l(()=>[n("div",P,"Item Check "+D(d.val),1)]),_:1}),a(I,null,{default:l(()=>[(m(!0),v(g,null,C(p.value,(o,t)=>(m(),v("div",{class:S(`row ${t>0?"q-pt-md":""}`),key:t},[n("div",x,[a(b,{filled:"",dense:"",label:"Item Request",modelValue:o.MITM_ITMNMREAL,"onUpdate:modelValue":e=>o.MITM_ITMNMREAL=e,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),n("div",F,[a(b,{filled:"",dense:"",label:"Qty",modelValue:o.TDLVORDDETA_ITMQT,"onUpdate:modelValue":e=>o.TDLVORDDETA_ITMQT=e,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),n("div",z,[a(U,{dense:"",filled:"",label:"Item Name",modelValue:o.TDLVORDDETA_ITMCD_ACT,"onUpdate:modelValue":e=>o.TDLVORDDETA_ITMCD_ACT=e,"use-input":"","input-debounce":"500",options:f.value,onFilter:i[0]||(i[0]=(e,u,A)=>_(e,u,A,"item")),behavior:"dialog","option-label":"MITM_ITMNM","option-value":"MITM_ITMCD","emit-value":"","map-options":"",loading:s.value},null,8,["modelValue","onUpdate:modelValue","options","loading"])])],2))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Y={class:"q-pa-md"},Z=n("div",{class:"row q-pb-md"},[n("div",{class:"col"},[n("span",{class:"text-h4"},"Outgoing Confirmation")])],-1),j={class:"row q-pt-md"},G={class:"col"},le={__name:"outConfView",setup(M){const V=L(),p=r([]),f=r([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),s=r(!1),c=r(""),_=r("");k(()=>{d()});const d=async()=>{s.value=!0,await O.post("delivery/unconfirmed",{searchBy:c.value,searchValue:_.value}).then(o=>{s.value=!1,p.value=o.data.data}).catch(o=>{s.value=!1})},i=o=>{console.log(o),V.dialog({component:X,componentProps:{dataHeader:o}}).onOk(async t=>{})};return(o,t)=>(m(),v("div",Y,[Z,a(N),n("div",j,[n("div",G,[a(E,{title:"Outstanding Confirmation",rows:p.value,columns:f.value,"row-key":"name",loading:s.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":l(()=>[a(U,{outlined:"",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),a(b,{borderless:"",dense:"",modelValue:_.value,"onUpdate:modelValue":[t[1]||(t[1]=e=>_.value=e),t[2]||(t[2]=e=>o.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[a($,{name:"search"})]),_:1},8,["modelValue"])]),header:l(e=>[a(y,{props:e},{default:l(()=>[(m(!0),v(g,null,C(e.cols,u=>(m(),h(Q,{key:u.name,props:e},{default:l(()=>[T(D(u.label),1)]),_:2},1032,["props"]))),128)),a(Q,{"auto-width":""},{default:l(()=>[T("Action")]),_:1})]),_:2},1032,["props"])]),body:l(e=>[a(y,{props:e},{default:l(()=>[(m(!0),v(g,null,C(e.cols,u=>(m(),h(w,{key:u.name,props:e},{default:l(()=>[T(D(u.value),1)]),_:2},1032,["props"]))),128)),a(w,{"auto-width":""},{default:l(()=>[a(B,{flat:"",color:"green",icon:"check",onClick:u=>i(e.row),dense:""},{default:l(()=>[a(H,null,{default:l(()=>[T("Confirm Delivery")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{le as default};
