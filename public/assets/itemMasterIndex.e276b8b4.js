import{Q as M}from"./QTooltip.8543c23d.js";import{t as i,o as N,C as d,R as _,J as r,F as t,E as a,Q as T,aI as V,I as n,$ as B,av as O,S as v,T as C,D as g,P as b}from"./index.c76106d3.js";import{Q as S}from"./QSelect.d8098d3a.js";import{Q as E,a as w}from"./QTable.2b494570.js";import{Q,a as h}from"./QTd.1560c838.js";import{api_web as P}from"./axios.f74a540c.js";import{u as R}from"./use-quasar.fd72bbbc.js";import{_ as $}from"./itemCreate.b23c4af6.js";import"./format.cbaaf859.js";import"./QItemLabel.b68eaf80.js";import"./QList.4c553087.js";import"./use-dialog-plugin-component.de1d71d9.js";const A={class:"q-pa-md"},x={class:"row q-pb-md"},U=r("div",{class:"col"},[r("span",{class:"text-h4"},"Item Master")],-1),q={class:"col text-right"},F={class:"row q-pt-md"},Y={class:"col"},le={__name:"itemMasterIndex",setup(H){const y=R(),f=i([]),k=i([{name:"MITM_ITMCD",label:"Item Code",field:"MITM_ITMCD",sortable:!0,align:"left"},{name:"MITM_ITMNM",label:"Item Name",field:"MITM_ITMNM",sortable:!0,align:"left"},{name:"MITM_ITMTYPE",label:"Item Type",field:"MITM_ITMTYPE",sortable:!0,align:"left"},{name:"MITM_STKUOM",label:"UOM",field:"MITM_STKUOM",sortable:!0,align:"left"},{name:"MITM_ITMCAT",label:"Category",field:"MITM_ITMCAT",sortable:!0,align:"left"},{name:"MITM_BRANCH",label:"Category",field:"MITM_BRANCH",sortable:!0,align:"left"}]),u=i(!1),m=i(""),c=i("");N(()=>{p()});const p=async()=>{u.value=!0,await P.post("item/searchAPITBL",{searchBy:m.value,searchValue:c.value,isITMCD:1}).then(o=>{u.value=!1,f.value=o.data.data}).catch(o=>{u.value=!1})},I=(o=[])=>{y.dialog({component:$,componentProps:{dataHeader:o}}).onOk(async l=>{p()})},D=o=>{};return(o,l)=>(d(),_("div",A,[r("div",x,[U,r("div",q,[t(T,{icon:"add",color:"blue",onClick:l[0]||(l[0]=e=>I())},{default:a(()=>[t(M,null,{default:a(()=>[n("Create New Item")]),_:1})]),_:1})])]),t(V),r("div",F,[r("div",Y,[t(E,{title:"Item Master List",rows:f.value,columns:k.value,"row-key":"MITM_ITMCD",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[t(S,{outlined:"",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),options:o.col,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(B,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[l[2]||(l[2]=e=>c.value=e),l[3]||(l[3]=e=>o.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[t(O,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[t(Q,{props:e},{default:a(()=>[t(w,{"auto-width":""},{default:a(()=>[n("Action")]),_:1}),(d(!0),_(v,null,C(e.cols,s=>(d(),g(w,{key:s.name,props:e},{default:a(()=>[n(b(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(e=>[t(Q,{props:e},{default:a(()=>[t(h,{"auto-width":""},{default:a(()=>[t(T,{flat:"",color:parseInt(e.row.CONFIRMED_QTY)==e.row.TOT_RCV?"grey":"orange",icon:"edit",onClick:s=>I(e.row),dense:""},{default:a(()=>[t(M,null,{default:a(()=>[n("Edit Data")]),_:1})]),_:2},1032,["color","onClick"]),t(T,{flat:"",color:parseInt(e.row.CONFIRMED_QTY)==e.row.TOT_RCV?"grey":"red",icon:"delete",onClick:s=>D(e.row.id),dense:""},{default:a(()=>[t(M,null,{default:a(()=>[n("Delete Data")]),_:1})]),_:2},1032,["color","onClick"])]),_:2},1024),(d(!0),_(v,null,C(e.cols,s=>(d(),g(h,{key:s.name,props:e},{default:a(()=>[n(b(s.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{le as default};
