import{Q as m}from"./QTooltip.29425a13.js";import{t as i,o as V,C as d,R as M,J as r,F as a,E as e,Q as c,aI as x,I as n,$ as B,av as E,S as b,T as C,D as g,P as w}from"./index.380c3379.js";import{Q as S}from"./QSelect.69c73340.js";import{Q as $,a as Q}from"./QTable.6e381bfc.js";import{Q as h,a as k}from"./QTd.25295638.js";import{api_web as A}from"./axios.6e7a2486.js";import{u as P}from"./use-quasar.c38b7fc7.js";import{_ as O}from"./itemCreate.deedba02.js";import"./format.29248176.js";import"./QItemLabel.dcce1f41.js";import"./QList.3c85054c.js";import"./use-dialog-plugin-component.9fb16325.js";const U={class:"q-pa-md"},q={class:"row q-pb-md"},F=r("div",{class:"col"},[r("span",{class:"text-h4"},"Item Master")],-1),L={class:"col text-right"},R={class:"row q-pt-md"},H={class:"col"},oe={__name:"itemMasterIndex",setup(K){const y=P(),_=i([]),T=i([{name:"MITM_ITMCD",label:"Item Code",field:"MITM_ITMCD",sortable:!0,align:"left"},{name:"MITM_ITMNM",label:"Item Name",field:"MITM_ITMNM",sortable:!0,align:"left"},{name:"MITM_ITMTYPE",label:"Item Type",field:"MITM_ITMTYPE",sortable:!0,align:"left"},{name:"MITM_STKUOM",label:"UOM",field:"MITM_STKUOM",sortable:!0,align:"left"},{name:"MITM_ITMCAT",label:"Category",field:"MITM_ITMCAT",sortable:!0,align:"left"},{name:"MITM_BRANCH",label:"Category",field:"MITM_BRANCH",sortable:!0,align:"left"}]),u=i(!1),p=i(""),f=i("");V(()=>{I()});const I=async()=>{u.value=!0,await A.post("item/searchAPITBL",{searchBy:p.value,searchValue:f.value,isITMCD:1}).then(o=>{u.value=!1,_.value=o.data.data}).catch(o=>{u.value=!1})},v=(o=null)=>{y.dialog({component:O,componentProps:{ItemCat:"",ItemType:"",isAutoCD:!1,listOpenField:[],dataForUpdate:o}}).onOk(async l=>{I()})},D=()=>{},N=o=>{};return(o,l)=>(d(),M("div",U,[r("div",q,[F,r("div",L,[a(c,{icon:"add",color:"blue",onClick:l[0]||(l[0]=t=>v())},{default:e(()=>[a(m,null,{default:e(()=>[n("Create New Item")]),_:1})]),_:1}),a(c,{icon:"add",color:"blue",onClick:l[1]||(l[1]=t=>D()),flat:""},{default:e(()=>[a(m,null,{default:e(()=>[n("Export to Excel")]),_:1})]),_:1})])]),a(x),r("div",R,[r("div",H,[a($,{title:"Item Master List",rows:_.value,columns:T.value,"row-key":"MITM_ITMCD",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[a(S,{outlined:"",modelValue:p.value,"onUpdate:modelValue":l[2]||(l[2]=t=>p.value=t),options:T.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),a(B,{borderless:"",dense:"",modelValue:f.value,"onUpdate:modelValue":[l[3]||(l[3]=t=>f.value=t),l[4]||(l[4]=t=>o.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[a(E,{name:"search"})]),_:1},8,["modelValue"])]),header:e(t=>[a(h,{props:t},{default:e(()=>[a(Q,{"auto-width":""},{default:e(()=>[n("Action")]),_:1}),(d(!0),M(b,null,C(t.cols,s=>(d(),g(Q,{key:s.name,props:t},{default:e(()=>[n(w(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(t=>[a(h,{props:t},{default:e(()=>[a(k,{"auto-width":""},{default:e(()=>[a(c,{flat:"",color:"orange",icon:"edit",onClick:s=>v(t.row),dense:""},{default:e(()=>[a(m,null,{default:e(()=>[n("Edit Data")]),_:1})]),_:2},1032,["onClick"]),a(c,{flat:"",color:"red",icon:"delete",onClick:s=>N(t.row.id),dense:""},{default:e(()=>[a(m,null,{default:e(()=>[n("Delete Data")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),(d(!0),M(b,null,C(t.cols,s=>(d(),g(k,{key:s.name,props:t},{default:e(()=>[n(w(s.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{oe as default};
