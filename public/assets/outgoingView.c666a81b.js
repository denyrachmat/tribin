import{Q as N}from"./QTooltip.5818cd03.js";import{s as n,o as x,B as c,C as h,D as l,E as e,L as P,M as O,I as o,Z as D,am as $,P as w,R as y,S as k,H as C,O as L,W as I,Q as V,X as T,Y as A,T as Y,aX as j}from"./index.eae9efec.js";import{u as M,j as B,k as E,l as U}from"./QTable.ab554bd9.js";import{Q as R,a as Q}from"./QTd.70c671f4.js";import{api_web as H}from"./axios.2cbdedb2.js";import{Q as X,a as F,C as W}from"./ClosePopup.71c43513.js";import{u as K}from"./use-dialog-plugin-component.75ff4801.js";import"./use-cache.b0833c75.js";import"./date.1fa48e05.js";const Z=o("div",{class:"text-h6"},"Sales Order Choose",-1),z={class:"row"},G={class:"col"},J={__name:"salesOrderChoose",setup(q){M();const b=n([]),f=n([{name:"TSLO_SLOCD",label:"Sales Ord Code",field:"TSLO_SLOCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TSLO_PLAN_DLVDT",label:"DLV Plan Date",field:"TSLO_PLAN_DLVDT",sortable:!0,align:"left"}]),i=n(!1),u=n(""),p=n("");x(()=>{v()});const v=async()=>{i.value=!0,await H.post("delivery/outstanding-warehouse-api",{searchBy:u.value,searchValue:p.value}).then(s=>{i.value=!1,b.value=s.data.data}).catch(s=>{i.value=!1})},g=s=>{r(s)},{dialogRef:S,onDialogHide:_,onDialogOK:r,onDialogCancel:d}=K();return(s,m)=>(c(),h(A,{ref_key:"dialogRef",ref:S,onHide:T(_),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(P,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(O,null,{default:l(()=>[Z]),_:1}),e(O,{class:"q-pa-sm"},{default:l(()=>[o("div",z,[o("div",G,[e(B,{title:"Outgoing List",rows:b.value,columns:f.value,"row-key":"TDLVORD_DLVCD",loading:i.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table",onRowClick:m[3]||(m[3]=(a,t,Ve)=>g(t))},{"top-right":l(()=>[e(E,{outlined:"",modelValue:u.value,"onUpdate:modelValue":m[0]||(m[0]=a=>u.value=a),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(D,{borderless:"",dense:"",modelValue:p.value,"onUpdate:modelValue":[m[1]||(m[1]=a=>p.value=a),m[2]||(m[2]=a=>s.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e($,{name:"search"})]),_:1},8,["modelValue"])]),header:l(a=>[e(R,{props:a},{default:l(()=>[(c(!0),w(y,null,k(a.cols,t=>(c(),h(U,{key:t.name,props:a},{default:l(()=>[C(L(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(a=>[e(R,{props:a,onClick:t=>s.onRowClick(a.row)},{default:l(()=>[(c(!0),w(y,null,k(a.cols,t=>(c(),h(Q,{key:t.name,props:a},{default:l(()=>[C(L(t.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","loading"])])])]),_:1}),e(I,{align:"right"},{default:l(()=>[e(V,{flat:"",label:"Cancel",color:"red",onClick:T(d)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},ee=o("div",{class:"text-h6"},"Create Outgoing Delivery",-1),le={style:{border:"1px black solid","border-radius":"10px"}},ae=o("legend",{style:{"margin-left":"1em",padding:"0.2em 0.8em"}},[o("b",null,"Header")],-1),oe={class:"row"},te={class:"col"},se={class:"col q-pl-md"},ne={class:"row items-center justify-end"},de={class:"row q-pt-md"},ie={class:"col"},re={class:"col q-pl-md"},ue={class:"row q-pt-md"},me={class:"col"},ce=o("fieldset",{style:{border:"1px black solid","border-radius":"10px"}},[o("legend",{style:{"margin-left":"1em",padding:"0.2em 0.8em"}},[o("b",null,"List Of Items")])],-1),pe={__name:"outgoingCreate",setup(q){const b=M();n(!1);const f=n(""),i=n(""),u=n(""),p=n(""),v=n(""),g=()=>{},S=()=>{b.dialog({component:J}).onOk(async m=>{console.log(m)})},{dialogRef:_,onDialogHide:r,onDialogOK:d,onDialogCancel:s}=K();return(m,a)=>(c(),h(A,{ref_key:"dialogRef",ref:_,onHide:T(r),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(P,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(O,null,{default:l(()=>[ee]),_:1}),e(O,{class:"q-pa-sm"},{default:l(()=>[o("fieldset",le,[ae,o("div",oe,[o("div",te,[e(D,{label:"Code",readonly:"",dense:"",filled:"",modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=t=>f.value=t)},null,8,["modelValue"])]),o("div",se,[e(D,{filled:"",modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=t=>i.value=t),dense:""},{append:l(()=>[e($,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(X,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(F,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=t=>i.value=t),mask:"YYYY-MM-DD"},{default:l(()=>[o("div",ne,[Y(e(V,{label:"Close",color:"primary",flat:""},null,512),[[W]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),o("div",de,[o("div",ie,[e(D,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=t=>u.value=t),label:"Sales Order",dense:"",readonly:""},{append:l(()=>[e(V,{round:"",dense:"",flat:"",icon:"search",onClick:S})]),_:1},8,["modelValue"])]),o("div",re,[e(D,{modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=t=>p.value=t),label:"Customer",dense:"",readonly:""},null,8,["modelValue"])])]),o("div",ue,[o("div",me,[e(D,{modelValue:v.value,"onUpdate:modelValue":a[5]||(a[5]=t=>v.value=t),label:"Remarks",dense:""},null,8,["modelValue"])])])]),ce]),_:1}),e(I,{align:"right"},{default:l(()=>[e(V,{label:"OK",color:"primary",onClick:a[6]||(a[6]=t=>g())}),e(V,{flat:"",label:"Cancel",color:"red",onClick:T(s)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},_e={class:"q-pa-md"},fe={class:"row q-pb-md"},ve=o("div",{class:"col"},[o("span",{class:"text-h4"},"Outgoing")],-1),ge={class:"col text-right"},De={class:"row q-pt-md"},Ce={class:"col"},Re={__name:"outgoingView",setup(q){const b=M(),f=n([]),i=n([{name:"TDLVORD_DLVCD",label:"Delivery ID",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TDLVORD_ISSUDT",label:"Issue Date",field:"TDLVORD_ISSUDT",sortable:!0,align:"left"},{name:"TDLVORD_REMARK",label:"Remark",field:"TDLVORD_REMARK",sortable:!0,align:"left"}]),u=n(!1),p=n(""),v=n("");x(()=>{g()});const g=async()=>{u.value=!0,await H.post("delivery/searchAPI",{searchBy:p.value,searchValue:v.value}).then(_=>{u.value=!1,f.value=_.data.data}).catch(_=>{u.value=!1})},S=()=>{b.dialog({component:pe}).onOk(async _=>{g()})};return(_,r)=>(c(),w("div",_e,[o("div",fe,[ve,o("div",ge,[e(V,{icon:"add",color:"blue",onClick:S},{default:l(()=>[e(N,null,{default:l(()=>[C("Create New Delivery")]),_:1})]),_:1})])]),e(j),o("div",De,[o("div",Ce,[e(B,{title:"Outgoing List",rows:f.value,columns:i.value,"row-key":"TDLVORD_DLVCD",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":l(()=>[e(E,{outlined:"",modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=d=>p.value=d),options:i.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(D,{borderless:"",dense:"",modelValue:v.value,"onUpdate:modelValue":[r[1]||(r[1]=d=>v.value=d),r[2]||(r[2]=d=>g())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e($,{name:"search"})]),_:1},8,["modelValue"])]),header:l(d=>[e(R,{props:d},{default:l(()=>[(c(!0),w(y,null,k(d.cols,s=>(c(),h(U,{key:s.name,props:d},{default:l(()=>[C(L(s.label),1)]),_:2},1032,["props"]))),128)),e(U,{"auto-width":""},{default:l(()=>[C("Action")]),_:1})]),_:2},1032,["props"])]),body:l(d=>[e(R,{props:d},{default:l(()=>[(c(!0),w(y,null,k(d.cols,s=>(c(),h(Q,{key:s.name,props:d},{default:l(()=>[C(L(s.value),1)]),_:2},1032,["props"]))),128)),e(Q,{"auto-width":""},{default:l(()=>[e(V,{flat:"",color:"orange",icon:"edit",onClick:r[3]||(r[3]=s=>_.onEdit()),dense:""},{default:l(()=>[e(N,null,{default:l(()=>[C("Edit Data")]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{Re as default};
