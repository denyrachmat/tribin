import{u as S,j as T,k as B,l as v}from"./QTable.e2a09c27.js";import{s,o as L,B as r,P as p,I as _,E as t,D as e,Z as O,am as U,R as b,S as h,C as w,H as i,O as C,Q as V}from"./index.8e720421.js";import{Q as g,a as D}from"./QTd.8f67a886.js";import{Q}from"./QTooltip.b19a0d62.js";import{api_web as I}from"./axios.5270c51b.js";const N={class:"q-pa-md"},P={class:"row"},M={class:"col"},j={__name:"invoiceView",setup(R){S();const m=s([]),f=s([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),u=s(!1),d=s(""),c=s("");L(()=>{k()});const k=async()=>{u.value=!0,await I.post("invoices/search",{searchBy:d.value,searchValue:c.value}).then(o=>{u.value=!1,m.value=o.data.data}).catch(o=>{u.value=!1})},y=async o=>{window.open("http://tribin.test/PDF/quotation/"+btoa(o),"_blank").focus()};return(o,l)=>(r(),p("div",N,[_("div",P,[_("div",M,[t(T,{title:"Invoice List",rows:m.value,columns:f.value,"row-key":"name",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[t(B,{outlined:"",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=a=>d.value=a),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(O,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[l[1]||(l[1]=a=>c.value=a),l[2]||(l[2]=a=>o.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[t(U,{name:"search"})]),_:1},8,["modelValue"])]),header:e(a=>[t(g,{props:a},{default:e(()=>[(r(!0),p(b,null,h(a.cols,n=>(r(),w(v,{key:n.name,props:a},{default:e(()=>[i(C(n.label),1)]),_:2},1032,["props"]))),128)),t(v,{"auto-width":""},{default:e(()=>[i("Action")]),_:1})]),_:2},1032,["props"])]),body:e(a=>[t(g,{props:a},{default:e(()=>[(r(!0),p(b,null,h(a.cols,n=>(r(),w(D,{key:n.name,props:a},{default:e(()=>[i(C(n.value),1)]),_:2},1032,["props"]))),128)),t(D,{"auto-width":""},{default:e(()=>[t(V,{flat:"",color:"green",icon:"print",dense:"",onClick:n=>y(a.row.TSLO_QUOCD)},{default:e(()=>[t(Q,null,{default:e(()=>[i("Print Invoice")]),_:1})]),_:2},1032,["onClick"]),t(V,{flat:"",color:"indigo",icon:"print",dense:""},{default:e(()=>[t(Q,null,{default:e(()=>[i("Print Receipt")]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{j as default};
