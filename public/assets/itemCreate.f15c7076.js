import{t as p,o as h,C as s,D as i,E as m,F as u,M as E,O as f,J as t,$ as I,aZ as M,X as q,Q as O,Y as D,Z as B}from"./index.38a60d5a.js";import{Q as g}from"./QSelect.5ff4a85b.js";import{api_web as v}from"./axios.42555041.js";import{u as Q}from"./use-quasar.7c370a0e.js";import{u as F}from"./use-dialog-plugin-component.d7f3c4a4.js";const P=t("div",{class:"text-h6"},"Create Item Master",-1),K={class:"row"},R={class:"col"},x={class:"col q-pl-md"},L={class:"row q-pt-md"},H={class:"col"},Y={class:"col q-pl-md"},$={class:"row q-pt-md"},Z={class:"col"},j={class:"col q-pl-md"},J={class:"row q-pt-md"},X={class:"col"},ae={__name:"itemCreate",props:{ItemCat:String,ItemType:String,isAutoCD:Boolean,listOpenField:Array,dataForUpdate:Object},setup(V){const{dialogRef:A,onDialogHide:U,onDialogOK:b,onDialogCancel:y}=F(),k=Q(),l=p({MITM_ITMCD:"",MITM_ITMNM:"",MITM_STKUOM:"",MITM_ITMTYPE:1,MITM_BRAND:"",MITM_MODEL:"",MITM_SPEC:"",MITM_ITMCAT:"",MITM_COACD:"",MITM_ITMCAT:""}),r=p(!1),C=p([]),T=p([]),d=V;h(()=>{S(),l.value.MITM_ITMCAT=d.ItemCat,l.value.MITM_ITMTYPE=d.ItemType,d.dataForUpdate&&(l.value=d.dataForUpdate)});const N=(o,e,a,c)=>{e(async()=>{await v.post("item/getListCoasAPI",{search:o}).then(_=>{T.value=_.data})})},w=()=>{k.dialog({title:"Confirmation",message:"Do you want to save this item ?",cancel:!0,persistent:!0}).onOk(async()=>{await v.post("item",l.value).then(o=>{b(o.data.data)})})},S=async()=>{r.value=!0,await v.get("item/formAPI").then(o=>{r.value=!1,C.value=o.data.uoms,T.value=o.data.coas}).catch(()=>{r.value=!1})},n=o=>d.listOpenField.length===0||d.listOpenField.includes(o);return(o,e)=>(s(),i(B,{ref_key:"dialogRef",ref:A,onHide:D(U),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:m(()=>[u(E,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:m(()=>[u(f,null,{default:m(()=>[P]),_:1}),u(f,{class:"q-pa-sm"},{default:m(()=>[t("div",K,[t("div",R,[n("MITM_ITMCD")?(s(),i(I,{key:0,label:"Item Code",dense:"",modelValue:l.value.MITM_ITMCD,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.MITM_ITMCD=a),filled:"",readonly:d.isAutoCD},null,8,["modelValue","readonly"])):M("",!0)]),t("div",x,[n("MITM_ITMNM")?(s(),i(I,{key:0,label:"Item Name",dense:"",modelValue:l.value.MITM_ITMNM,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.MITM_ITMNM=a),filled:""},null,8,["modelValue"])):M("",!0)])]),t("div",L,[t("div",H,[n("MITM_STKUOM")?(s(),i(g,{key:0,dense:"",filled:"",label:"UOM",modelValue:l.value.MITM_STKUOM,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.MITM_STKUOM=a),options:C.value,behavior:"dialog","option-label":"MUOM_UOMNM","option-value":"MUOM_UOMCD","emit-value":"","map-options":"",loading:r.value},null,8,["modelValue","options","loading"])):M("",!0)]),t("div",Y,[n("MITM_BRAND")?(s(),i(I,{key:0,label:"Item Brand",dense:"",modelValue:l.value.MITM_BRAND,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.MITM_BRAND=a),filled:""},null,8,["modelValue"])):M("",!0)])]),t("div",$,[t("div",Z,[n("MITM_MODEL")?(s(),i(I,{key:0,label:"Item Model",dense:"",modelValue:l.value.MITM_MODEL,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.MITM_MODEL=a),filled:""},null,8,["modelValue"])):M("",!0)]),t("div",j,[n("MITM_SPEC")?(s(),i(I,{key:0,label:"Item Specification",dense:"",modelValue:l.value.MITM_SPEC,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.MITM_SPEC=a),filled:""},null,8,["modelValue"])):M("",!0)])]),t("div",J,[t("div",X,[n("MITM_COACD")?(s(),i(g,{key:0,dense:"",filled:"",label:"COA",modelValue:l.value.MITM_COACD,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.MITM_COACD=a),options:T.value,"use-input":"",behavior:"dialog","option-label":"MCOA_COANM","option-value":"MCOA_COACD",onFilter:e[7]||(e[7]=(a,c,_)=>N(a,c,_)),"emit-value":"","map-options":"",loading:r.value},null,8,["modelValue","options","loading"])):M("",!0)])])]),_:1}),u(q,{align:"right"},{default:m(()=>[u(O,{label:"OK",color:"primary",onClick:e[8]||(e[8]=a=>w())}),u(O,{flat:"",label:"Cancel",color:"red",onClick:D(y)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};export{ae as _};
