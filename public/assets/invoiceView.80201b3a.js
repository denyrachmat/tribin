import{u as I,j as T,k as B,l as v}from"./QTable.4d459283.js";import{s as i,o as U,B as r,P as p,I as _,E as t,D as a,Z as L,am as N,R as w,S as h,C as b,H as u,O as g,Q as V}from"./index.55d70d8c.js";import{Q as C,a as Q}from"./QTd.2c78dfc2.js";import{Q as D}from"./QTooltip.17955ea1.js";import{api_web as k}from"./axios.2f8f3e3c.js";const M={class:"q-pa-md"},O={class:"row"},P={class:"col"},q={__name:"invoiceView",setup(R){I();const m=i([]),f=i([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),o=i(!1),d=i(""),c=i("");U(()=>{y()});const y=async()=>{o.value=!0,await k.post("invoices/search",{searchBy:d.value,searchValue:c.value}).then(n=>{o.value=!1,m.value=n.data.data}).catch(n=>{o.value=!1})},S=async n=>{o.value=!0,await k.post("invoices/printInvoice",n).then(l=>{o.value=!1,window.open("").document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(l.data)+"'></iframe>")}).catch(l=>{o.value=!1})};return(n,l)=>(r(),p("div",M,[_("div",O,[_("div",P,[t(T,{title:"Invoice List",rows:m.value,columns:f.value,"row-key":"name",loading:o.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[t(B,{outlined:"",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(L,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[l[1]||(l[1]=e=>c.value=e),l[2]||(l[2]=e=>n.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[t(N,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[t(C,{props:e},{default:a(()=>[(r(!0),p(w,null,h(e.cols,s=>(r(),b(v,{key:s.name,props:e},{default:a(()=>[u(g(s.label),1)]),_:2},1032,["props"]))),128)),t(v,{"auto-width":""},{default:a(()=>[u("Action")]),_:1})]),_:2},1032,["props"])]),body:a(e=>[t(C,{props:e},{default:a(()=>[(r(!0),p(w,null,h(e.cols,s=>(r(),b(Q,{key:s.name,props:e},{default:a(()=>[u(g(s.value),1)]),_:2},1032,["props"]))),128)),t(Q,{"auto-width":""},{default:a(()=>[t(V,{flat:"",color:"green",icon:"print",dense:"",onClick:s=>S(e.row)},{default:a(()=>[t(D,null,{default:a(()=>[u("Print Invoice")]),_:1})]),_:2},1032,["onClick"]),t(V,{flat:"",color:"indigo",icon:"print",dense:""},{default:a(()=>[t(D,null,{default:a(()=>[u("Print Receipt")]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{q as default};
