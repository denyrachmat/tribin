import{t as u,o as k,C as i,R as f,F as t,aM as y,J as r,E as a,$ as q,at as I,S as v,T as C,D as g,I as d,P as O,Q as T}from"./index.471def78.js";import{e as N}from"./QSelect.cc497bab.js";import{a as S,b as Q}from"./QTable.7adc83f3.js";import{Q as b,a as R}from"./QTd.b7acedaa.js";import{Q as L}from"./QTooltip.4fcf9a47.js";import{api_web as h}from"./axios.400839ea.js";import{u as $}from"./format.8cfcb473.js";const x={class:"q-pa-md"},B=r("div",{class:"row q-pb-md"},[r("div",{class:"col"},[r("span",{class:"text-h4"},"Transfer Request")]),r("div",{class:"col text-right"})],-1),F={class:"row q-pt-md"},P={class:"col"},H={__name:"transferRequestIndex",setup(A){const D=$(),p=u([]),_=u([{name:"TLOCREQ_DOCNO",label:"Doc Np",field:"TLOCREQ_DOCNO",sortable:!0,align:"left"},{name:"TLOCREQ_FRLOC",label:"From Location",field:"TLOCREQ_FRLOC",sortable:!0,align:"left"},{name:"TLOCREQ_TOLOC",label:"To Location",field:"TLOCREQ_TOLOC",sortable:!0,align:"left"},{name:"TLOCREQ_ISREP",label:"Is Replacement ?",field:"TLOCREQ_ISREP",sortable:!0,format:l=>`${l==1?"Yes":"No"}`,align:"left"}]),n=u(!1),c=u(""),m=u("");k(()=>{w()});const w=async()=>{n.value=!0,await h.post("inventory/transferRequest/searchAPI",{searchBy:c.value,searchValue:m.value}).then(l=>{n.value=!1,p.value=l.data.data}).catch(l=>{n.value=!1})},E=(l=[])=>{},V=l=>{D.dialog({title:"Confirmation",message:"Are you sure want to delete this data ?",cancel:!0,persistent:!0}).onOk(async()=>{n.value=!0,await h.delete(`delivery/${btoa(l)}`).then(o=>{n.value=!1,getOutgoingData()})})};return(l,o)=>(i(),f("div",x,[B,t(y),r("div",F,[r("div",P,[t(S,{title:"Transfer Request List",rows:p.value,columns:_.value,"row-key":"TDLVORD_DLVCD",loading:n.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[t(N,{outlined:"",modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),options:_.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(q,{borderless:"",dense:"",modelValue:m.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>m.value=e),o[2]||(o[2]=e=>l.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[t(I,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[t(b,{props:e},{default:a(()=>[(i(!0),f(v,null,C(e.cols,s=>(i(),g(Q,{key:s.name,props:e},{default:a(()=>[d(O(s.label),1)]),_:2},1032,["props"]))),128)),t(Q,{"auto-width":""},{default:a(()=>[d("Action")]),_:1})]),_:2},1032,["props"])]),body:a(e=>[t(b,{props:e},{default:a(()=>[(i(!0),f(v,null,C(e.cols,s=>(i(),g(R,{key:s.name,props:e},{default:a(()=>[d(O(s.value),1)]),_:2},1032,["props"]))),128)),t(R,{"auto-width":""},{default:a(()=>[t(T,{flat:"",color:"orange",icon:"edit",onClick:s=>E(e.row),dense:""},{default:a(()=>[t(L,null,{default:a(()=>[d("Edit Data")]),_:1})]),_:2},1032,["onClick"]),t(T,{flat:"",color:"red",icon:"delete",onClick:s=>V(e.row.TDLVORD_DLVCD),dense:""},{default:a(()=>[t(L,null,{default:a(()=>[d("Edit Data")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{H as default};
