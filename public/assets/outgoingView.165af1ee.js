import{Q as U}from"./QTooltip.848395c4.js";import{s as u,o as q,B as d,C as V,D as l,E as e,L as P,M as O,I as n,Z as S,am as Q,P as h,R as b,S as w,H as m,O as T,Q as c,W as I,X as L,Y as N,T as K,aX as Y}from"./index.487402a7.js";import{u as $,j as E,k as A,l as y}from"./QTable.b13fab32.js";import{Q as k,a as R}from"./QTd.ef445700.js";import{api_web as B}from"./axios.69c3a76f.js";import{Q as j,a as X,C as F}from"./ClosePopup.df137271.js";import{u as H}from"./use-dialog-plugin-component.056393f6.js";import"./use-cache.b0833c75.js";import"./date.5a3bc126.js";const W=n("div",{class:"text-h6"},"Sales Order Choose",-1),Z={class:"row"},z={class:"col"},G={__name:"salesOrderChoose",setup(M){$();const g=u([]),f=u([{name:"TSLO_SLOCD",label:"Sales Ord Code",field:"TSLO_SLOCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TSLO_POCD",label:"PO Number",field:"TSLO_POCD",sortable:!0,align:"left"}]),r=u(!1);q(()=>{p()});const p=async()=>{r.value=!0,await B.post("delivery/outstanding-warehouse-api",{searchBy:filterCol.value,searchValue:filter.value}).then(a=>{r.value=!1,g.value=a.data.data}).catch(a=>{r.value=!1})},D=(a,o,t)=>{i(o)},{dialogRef:C,onDialogHide:_,onDialogOK:i,onDialogCancel:s}=H();return(a,o)=>(d(),V(N,{ref_key:"dialogRef",ref:C,onHide:L(_),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(P,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(O,null,{default:l(()=>[W]),_:1}),e(O,{class:"q-pa-sm"},{default:l(()=>[n("div",Z,[n("div",z,[e(E,{title:"Outgoing List",rows:g.value,columns:f.value,"row-key":"TDLVORD_DLVCD",loading:r.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table",onRowClick:D},{"top-right":l(()=>[e(A,{outlined:"",modelValue:a.filterCol,"onUpdate:modelValue":o[0]||(o[0]=t=>a.filterCol=t),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(S,{borderless:"",dense:"",modelValue:a.filter,"onUpdate:modelValue":[o[1]||(o[1]=t=>a.filter=t),o[2]||(o[2]=t=>a.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e(Q,{name:"search"})]),_:1},8,["modelValue"])]),header:l(t=>[e(k,{props:t},{default:l(()=>[(d(!0),h(b,null,w(t.cols,v=>(d(),V(y,{key:v.name,props:t},{default:l(()=>[m(T(v.label),1)]),_:2},1032,["props"]))),128)),e(y,{"auto-width":""},{default:l(()=>[m("Action")]),_:1})]),_:2},1032,["props"])]),body:l(t=>[e(k,{props:t},{default:l(()=>[(d(!0),h(b,null,w(t.cols,v=>(d(),V(R,{key:v.name,props:t},{default:l(()=>[m(T(v.value),1)]),_:2},1032,["props"]))),128)),e(R,{"auto-width":""},{default:l(()=>[e(c,{flat:"",color:"orange",icon:"edit",onClick:o[3]||(o[3]=v=>a.onEdit()),dense:""},{default:l(()=>[e(U,null,{default:l(()=>[m("Edit Data")]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]),_:1}),e(I,{align:"right"},{default:l(()=>[e(c,{flat:"",label:"Cancel",color:"red",onClick:L(s)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},J=n("div",{class:"text-h6"},"Create Outgoing Delivery",-1),x={class:"row"},ee={class:"col"},le={class:"col q-pl-md"},ae={class:"row items-center justify-end"},oe={class:"row q-pt-md"},te={class:"col"},se={__name:"outgoingCreate",setup(M){const g=$();u(!1);const f=()=>{},r=()=>{g.dialog({component:G}).onOk(async i=>{console.log(i)})},{dialogRef:p,onDialogHide:D,onDialogOK:C,onDialogCancel:_}=H();return(i,s)=>(d(),V(N,{ref_key:"dialogRef",ref:p,onHide:L(D),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(P,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(O,null,{default:l(()=>[J]),_:1}),e(O,{class:"q-pa-sm"},{default:l(()=>[n("div",x,[n("div",ee,[e(S,{label:"Code",readonly:"",dense:"",filled:"",modelValue:i.TDLVORD_CUSCD,"onUpdate:modelValue":s[0]||(s[0]=a=>i.TDLVORD_CUSCD=a)},null,8,["modelValue"])]),n("div",le,[e(S,{filled:"",modelValue:i.TDLVORD_ISSUDT,"onUpdate:modelValue":s[2]||(s[2]=a=>i.TDLVORD_ISSUDT=a)},{append:l(()=>[e(Q,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(j,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(X,{modelValue:i.TDLVORD_ISSUDT,"onUpdate:modelValue":s[1]||(s[1]=a=>i.TDLVORD_ISSUDT=a),mask:"YYYY-MM-DD"},{default:l(()=>[n("div",ae,[K(e(c,{label:"Close",color:"primary",flat:""},null,512),[[F]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),n("div",oe,[n("div",te,[e(S,{"bottom-slots":"",modelValue:i.TDLVORDDETA_SLOCD,"onUpdate:modelValue":s[3]||(s[3]=a=>i.TDLVORDDETA_SLOCD=a),label:"Sales Order",counter:"",maxlength:"12",dense:i.dense},{append:l(()=>[e(c,{round:"",dense:"",flat:"",icon:"search",onClick:r})]),_:1},8,["modelValue","dense"])])])]),_:1}),e(I,{align:"right"},{default:l(()=>[e(c,{label:"OK",color:"primary",onClick:s[4]||(s[4]=a=>f())}),e(c,{flat:"",label:"Cancel",color:"red",onClick:L(_)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},ne={class:"q-pa-md"},ie={class:"row q-pb-md"},de=n("div",{class:"col"},[n("span",{class:"text-h4"},"Outgoing")],-1),re={class:"col text-right"},ue={class:"row q-pt-md"},me={class:"col"},Se={__name:"outgoingView",setup(M){const g=$(),f=u([]),r=u([{name:"TDLVORD_DLVCD",label:"Delivery ID",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TDLVORD_ISSUDT",label:"Issue Date",field:"TDLVORD_ISSUDT",sortable:!0,align:"left"},{name:"TDLVORD_REMARK",label:"Remark",field:"TDLVORD_REMARK",sortable:!0,align:"left"}]),p=u(!1),D=u(""),C=u("");q(()=>{_()});const _=async()=>{p.value=!0,await B.post("delivery/searchAPI",{searchBy:D.value,searchValue:C.value}).then(s=>{p.value=!1,f.value=s.data.data}).catch(s=>{p.value=!1})},i=()=>{g.dialog({component:se}).onOk(async s=>{_()})};return(s,a)=>(d(),h("div",ne,[n("div",ie,[de,n("div",re,[e(c,{icon:"add",color:"blue",onClick:i},{default:l(()=>[e(U,null,{default:l(()=>[m("Create New Delivery")]),_:1})]),_:1})])]),e(Y),n("div",ue,[n("div",me,[e(E,{title:"Outgoing List",rows:f.value,columns:r.value,"row-key":"TDLVORD_DLVCD",loading:p.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":l(()=>[e(A,{outlined:"",modelValue:D.value,"onUpdate:modelValue":a[0]||(a[0]=o=>D.value=o),options:r.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(S,{borderless:"",dense:"",modelValue:C.value,"onUpdate:modelValue":[a[1]||(a[1]=o=>C.value=o),a[2]||(a[2]=o=>_())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e(Q,{name:"search"})]),_:1},8,["modelValue"])]),header:l(o=>[e(k,{props:o},{default:l(()=>[(d(!0),h(b,null,w(o.cols,t=>(d(),V(y,{key:t.name,props:o},{default:l(()=>[m(T(t.label),1)]),_:2},1032,["props"]))),128)),e(y,{"auto-width":""},{default:l(()=>[m("Action")]),_:1})]),_:2},1032,["props"])]),body:l(o=>[e(k,{props:o},{default:l(()=>[(d(!0),h(b,null,w(o.cols,t=>(d(),V(R,{key:t.name,props:o},{default:l(()=>[m(T(t.value),1)]),_:2},1032,["props"]))),128)),e(R,{"auto-width":""},{default:l(()=>[e(c,{flat:"",color:"orange",icon:"edit",onClick:a[3]||(a[3]=t=>s.onEdit()),dense:""},{default:l(()=>[e(U,null,{default:l(()=>[m("Edit Data")]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{Se as default};
