import{u as S,j as T,k as L,l as v}from"./QTable.e7a657e4.js";import{s as n,o as B,B as r,P as p,I as _,E as o,D as e,Z as O,am as I,R as b,S as D,C as w,H as i,O as V,Q as h}from"./index.07c96703.js";import{Q as C,a as g}from"./QTd.88168289.js";import{Q}from"./QTooltip.143af2c8.js";import{api_web as N}from"./axios.599d0c09.js";const P={class:"q-pa-md"},U={class:"row"},M={class:"col"},F={__name:"invoiceView",setup(R){S();const m=n([]),f=n([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),u=n(!1),d=n(""),c=n("");B(()=>{k()});const k=async()=>{u.value=!0,await N.post("invoices/search",{searchBy:d.value,searchValue:c.value}).then(t=>{u.value=!1,m.value=t.data.data}).catch(t=>{u.value=!1})},y=async t=>{window.open("https://joss.jatpowerindo.co.id/PDF/quotation/"+btoa(t),"_blank").focus()};return(t,l)=>(r(),p("div",P,[_("div",U,[_("div",M,[o(T,{title:"Invoice List",rows:m.value,columns:f.value,"row-key":"name",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[o(L,{outlined:"",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=a=>d.value=a),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),o(O,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[l[1]||(l[1]=a=>c.value=a),l[2]||(l[2]=a=>t.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[o(I,{name:"search"})]),_:1},8,["modelValue"])]),header:e(a=>[o(C,{props:a},{default:e(()=>[(r(!0),p(b,null,D(a.cols,s=>(r(),w(v,{key:s.name,props:a},{default:e(()=>[i(V(s.label),1)]),_:2},1032,["props"]))),128)),o(v,{"auto-width":""},{default:e(()=>[i("Action")]),_:1})]),_:2},1032,["props"])]),body:e(a=>[o(C,{props:a},{default:e(()=>[(r(!0),p(b,null,D(a.cols,s=>(r(),w(g,{key:s.name,props:a},{default:e(()=>[i(V(s.value),1)]),_:2},1032,["props"]))),128)),o(g,{"auto-width":""},{default:e(()=>[o(h,{flat:"",color:"green",icon:"print",dense:"",onClick:s=>y(a.row.TDLVORDDETA_SLOCD)},{default:e(()=>[o(Q,null,{default:e(()=>[i("Print Invoice")]),_:1})]),_:2},1032,["onClick"]),o(h,{flat:"",color:"indigo",icon:"print",dense:""},{default:e(()=>[o(Q,null,{default:e(()=>[i("Print Receipt")]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{F as default};
