import{t as d,C as D,D as Q,E as n,Y as m,Z as y,F as l,O as c,J as s,$ as p,X as q,Q as f,M as B}from"./index.f5aaa10b.js";import{c as M}from"./QSelect.92a9062d.js";import{api_web as N}from"./axios.2d671363.js";import{u as R}from"./format.1ff45e9b.js";import{u as S}from"./use-dialog-plugin-component.df3bb733.js";const O=s("div",{class:"text-h6"},"Create New Barcode",-1),F={class:"row"},H={class:"col"},T={class:"row q-pt-md"},U={class:"col"},$={class:"col q-pl-md"},Y={__name:"barcodeCreate",setup(A){const{dialogRef:v,onDialogHide:g,onDialogOK:C,onDialogCancel:b}=S(),_=R(),u=d({refCode:"",items:""}),r=d([]),t=d(!1),w=(a,e,o,i)=>{e(async()=>{i==="item"&&await V()})},V=async a=>{t.value=!0,await N.post("item/searchItemDyn",{filter:[{cols:"IS_ITMCD",param:"=",value:1}]}).then(e=>{t.value=!1,r.value=e.data.data}).catch(()=>{t.value=!1})},h=()=>{_.dialog({title:"Confirmation",message:"Are you sure want to save this Barcode ?",cancel:!0,persistent:!0}).onOk(async()=>{t.value=!0,C()})},k=a=>{console.log(a)};return(a,e)=>(D(),Q(y,{ref_key:"dialogRef",ref:v,onHide:m(g),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:n(()=>[l(B,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:n(()=>[l(c,null,{default:n(()=>[O]),_:1}),l(c,{class:"q-pa-sm"},{default:n(()=>[s("div",F,[s("div",H,[l(p,{dense:"",modelValue:a.refCode,"onUpdate:modelValue":e[0]||(e[0]=o=>a.refCode=o),outlined:"",label:"Ref Code"},null,8,["modelValue"])])]),s("div",T,[s("div",U,[l(M,{dense:"",filled:"",label:"Item Name",modelValue:u.value.items,"onUpdate:modelValue":e[1]||(e[1]=o=>u.value.items=o),"use-input":"","input-debounce":"500",options:r.value,onFilter:e[2]||(e[2]=(o,i,I)=>w(o,i,I,"item")),behavior:"dialog","option-label":"MITM_ITMNM","map-options":"",loading:t.value,"update:model-value":o=>k(o)},null,8,["modelValue","options","loading","update:model-value"])]),s("div",$,[l(p,{type:"number",dense:"",modelValue:a.stockRef,"onUpdate:modelValue":e[3]||(e[3]=o=>a.stockRef=o),outlined:"",label:"stock"},null,8,["modelValue"])])])]),_:1}),l(q,{align:"right"},{default:n(()=>[l(f,{label:"OK",color:"primary",onClick:e[4]||(e[4]=o=>h()),disable:a.stateSubmit,loading:t.value},null,8,["disable","loading"]),l(f,{flat:"",label:"Cancel",color:"red",onClick:m(b)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};export{Y as default};
