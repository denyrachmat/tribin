import{s as u,o as k,B as r,C as V,D as o,E as a,L as R,M as I,I as n,O as D,P as v,R as g,S as M,bc as N,Z as C,Y as S,aX as q,am as E,H as T,Q as $}from"./index.dede0edd.js";import{a as L,l as U,k as B,m as Q}from"./QTable.1df6582e.js";import{Q as y,a as w}from"./QTd.41ee46b3.js";import{Q as H}from"./QTooltip.80949bad.js";import{api_web as A}from"./axios.a7c4581b.js";const P={class:"text-h6"},F={class:"col"},x={class:"col q-pl-md"},z={class:"col q-pl-md"},X={__name:"onCheckItem",props:{dataHeader:Array},setup(b){L();const h=b,p=u([]),_=u([]),s=u(!1);k(()=>{p.value=h.dataHeader.dlvdet,c()});const c=async d=>{s.value=!0,await A.post("item/searchAPITBL",{searchValue:d}).then(m=>{s.value=!1,_.value=m.data.data}).catch(()=>{s.value=!1})},f=(d,m,l,t)=>{m(async()=>{t==="item"&&await c(d)})};return(d,m)=>(r(),V(S,{ref:"dialogRef",onHide:d.onDialogHide,"transition-show":"slide-up","transition-hide":"slide-down","full-width":""},{default:o(()=>[a(R,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:o(()=>[a(I,null,{default:o(()=>[n("div",P,"Item Check "+D(d.val),1)]),_:1}),a(I,null,{default:o(()=>[(r(!0),v(g,null,M(p.value,(l,t)=>(r(),v("div",{class:N(`row ${t>0?"q-pt-md":""}`),key:t},[n("div",F,[a(C,{filled:"",dense:"",label:"Item Request",modelValue:l.MITM_ITMNMREAL,"onUpdate:modelValue":e=>l.MITM_ITMNMREAL=e,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),n("div",x,[a(C,{filled:"",dense:"",label:"Qty",modelValue:l.TDLVORDDETA_ITMQT,"onUpdate:modelValue":e=>l.TDLVORDDETA_ITMQT=e,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),n("div",z,[a(U,{dense:"",filled:"",label:"Item Name",modelValue:l.TDLVORDDETA_ITMCD_ACT,"onUpdate:modelValue":e=>l.TDLVORDDETA_ITMCD_ACT=e,"use-input":"","input-debounce":"500",options:_.value,onFilter:(e,i,O)=>f(l.MITM_ITMNMREAL,i,O,"item"),behavior:"dialog","option-label":"MITM_ITMNM","option-value":"MITM_ITMCD","emit-value":"","map-options":"",loading:s.value},null,8,["modelValue","onUpdate:modelValue","options","onFilter","loading"])])],2))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Y={class:"q-pa-md"},Z=n("div",{class:"row q-pb-md"},[n("div",{class:"col"},[n("span",{class:"text-h4"},"Outgoing Confirmation")])],-1),j={class:"row q-pt-md"},G={class:"col"},le={__name:"outConfView",setup(b){const h=L(),p=u([]),_=u([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),s=u(!1),c=u(""),f=u("");k(()=>{d()});const d=async()=>{s.value=!0,await A.post("delivery/unconfirmed",{searchBy:c.value,searchValue:f.value}).then(l=>{s.value=!1,p.value=l.data.data}).catch(l=>{s.value=!1})},m=l=>{console.log(l),h.dialog({component:X,componentProps:{dataHeader:l}}).onOk(async t=>{})};return(l,t)=>(r(),v("div",Y,[Z,a(q),n("div",j,[n("div",G,[a(B,{title:"Outstanding Confirmation",rows:p.value,columns:_.value,"row-key":"name",loading:s.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":o(()=>[a(U,{outlined:"",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),options:_.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),a(C,{borderless:"",dense:"",modelValue:f.value,"onUpdate:modelValue":[t[1]||(t[1]=e=>f.value=e),t[2]||(t[2]=e=>l.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:o(()=>[a(E,{name:"search"})]),_:1},8,["modelValue"])]),header:o(e=>[a(y,{props:e},{default:o(()=>[(r(!0),v(g,null,M(e.cols,i=>(r(),V(Q,{key:i.name,props:e},{default:o(()=>[T(D(i.label),1)]),_:2},1032,["props"]))),128)),a(Q,{"auto-width":""},{default:o(()=>[T("Action")]),_:1})]),_:2},1032,["props"])]),body:o(e=>[a(y,{props:e},{default:o(()=>[(r(!0),v(g,null,M(e.cols,i=>(r(),V(w,{key:i.name,props:e},{default:o(()=>[T(D(i.value),1)]),_:2},1032,["props"]))),128)),a(w,{"auto-width":""},{default:o(()=>[a($,{flat:"",color:"green",icon:"check",onClick:i=>m(e.row),dense:""},{default:o(()=>[a(H,null,{default:o(()=>[T("Confirm Delivery")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{le as default};
