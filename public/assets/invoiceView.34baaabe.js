import{u as S,j as T,k as L,l as v}from"./QTable.abf27d83.js";import{s,o as B,B as r,P as p,I as _,E as t,D as e,Z as O,am as I,R as b,S as D,C as V,H as i,O as h,Q as w}from"./index.3ae74051.js";import{Q as C,a as g}from"./QTd.f7d2c802.js";import{Q}from"./QTooltip.1206c6c4.js";import{api_web as N}from"./axios.f3406a7f.js";const P={class:"q-pa-md"},U={class:"row"},M={class:"col"},$={__name:"invoiceView",setup(R){S();const m=s([]),f=s([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),u=s(!1),d=s(""),c=s("");B(()=>{k()});const k=async()=>{u.value=!0,await N.post("invoices/search",{searchBy:d.value,searchValue:c.value}).then(o=>{u.value=!1,m.value=o.data.data}).catch(o=>{u.value=!1})},y=async o=>{window.open("http://tribin.test/PDF/quotation/"+btoa(o),"_blank").focus()};return(o,l)=>(r(),p("div",P,[_("div",U,[_("div",M,[t(T,{title:"Invoice List",rows:m.value,columns:f.value,"row-key":"name",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[t(L,{outlined:"",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=a=>d.value=a),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(O,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[l[1]||(l[1]=a=>c.value=a),l[2]||(l[2]=a=>o.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[t(I,{name:"search"})]),_:1},8,["modelValue"])]),header:e(a=>[t(C,{props:a},{default:e(()=>[(r(!0),p(b,null,D(a.cols,n=>(r(),V(v,{key:n.name,props:a},{default:e(()=>[i(h(n.label),1)]),_:2},1032,["props"]))),128)),t(v,{"auto-width":""},{default:e(()=>[i("Action")]),_:1})]),_:2},1032,["props"])]),body:e(a=>[t(C,{props:a},{default:e(()=>[(r(!0),p(b,null,D(a.cols,n=>(r(),V(g,{key:n.name,props:a},{default:e(()=>[i(h(n.value),1)]),_:2},1032,["props"]))),128)),t(g,{"auto-width":""},{default:e(()=>[t(w,{flat:"",color:"green",icon:"print",dense:"",onClick:n=>y(a.row.TDLVORDDETA_SLOCD)},{default:e(()=>[t(Q,null,{default:e(()=>[i("Print Invoice")]),_:1})]),_:2},1032,["onClick"]),t(w,{flat:"",color:"indigo",icon:"print",dense:""},{default:e(()=>[t(Q,null,{default:e(()=>[i("Print Receipt")]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{$ as default};
