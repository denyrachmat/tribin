import{t as u,C as S,D as v,E as n,F as l,M as g,O as r,J as s,$ as d,X as D,Q as C,Y as m,Z as V}from"./index.80fa90f1.js";import{api_web as E}from"./axios.5b3870fd.js";import{u as w}from"./format.5f541ffb.js";import{u as N}from"./use-dialog-plugin-component.4acce5f7.js";const b=s("div",{class:"text-h6"},"Create New Customer Data",-1),h={class:"row q-pb-md"},A={class:"col"},R={class:"row q-pb-md"},O={class:"col"},k={class:"col q-pl-md"},I={class:"row"},Q={class:"col"},y={__name:"customerView",setup(q){const{dialogRef:_,onDialogHide:c,onDialogOK:U,onDialogCancel:p}=N(),M=w(),a=u({MCUS_CUSCD:"",MCUS_CUSNM:"",MCUS_CURCD:"IDR",MCUS_TAXREG:"-",MCUS_ADDR1:"",MCUS_TELNO:"",MCUS_PIC_NAME:"-",MCUS_PIC_TELNO:"-",MCUS_TYPE:1,MCUS_GROUP:"SERVICE",MCUS_EMAIL:""}),t=u(!1),f=()=>{M.dialog({title:"Confirmation",message:"Do you want to save this customer ?",cancel:!0,persistent:!0}).onOk(async()=>{t.value=!0,await E.post("customer",a.value).then(i=>{t.value=!1,U(i.data)}).catch(i=>{t.value=!1})})};return(i,e)=>(S(),v(V,{ref_key:"dialogRef",ref:_,onHide:m(c),"transition-show":"slide-up","transition-hide":"slide-down","full-width":""},{default:n(()=>[l(g,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:n(()=>[l(r,null,{default:n(()=>[b]),_:1}),l(r,{class:"q-pa-sm"},{default:n(()=>[s("div",h,[s("div",A,[l(d,{label:"Customer Name",dense:"",modelValue:a.value.MCUS_CUSNM,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.MCUS_CUSNM=o),filled:""},null,8,["modelValue"])])]),s("div",R,[s("div",O,[l(d,{label:"Customer Email",dense:"",modelValue:a.value.MCUS_EMAIL,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.MCUS_EMAIL=o),filled:""},null,8,["modelValue"])]),s("div",k,[l(d,{label:"Customer Phone",dense:"",modelValue:a.value.MCUS_TELNO,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.MCUS_TELNO=o),filled:"",mask:"####-####-####"},null,8,["modelValue"])])]),s("div",I,[s("div",Q,[l(d,{label:"Customer Address",dense:"",modelValue:a.value.MCUS_ADDR1,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.MCUS_ADDR1=o),filled:"",type:"textarea"},null,8,["modelValue"])])])]),_:1}),l(D,{align:"right"},{default:n(()=>[l(C,{label:"OK",color:"primary",onClick:e[4]||(e[4]=o=>f()),loading:t.value},null,8,["loading"]),l(C,{flat:"",label:"Cancel",color:"red",onClick:m(p),loading:t.value},null,8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};export{y as _};
