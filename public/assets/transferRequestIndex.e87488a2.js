import{t as u,o as y,C as i,R as f,F as t,aM as E,J as r,E as a,$ as k,at as D,S as _,T as C,D as O,I as d,P as Q,Q as V}from"./index.28911418.js";import{e as q}from"./QSelect.16f51849.js";import{a as I,b as T}from"./QTable.709d059c.js";import{Q as R,a as b}from"./QTd.da486c3d.js";import{Q as N}from"./QTooltip.e5fc2fec.js";import{api_web as g}from"./axios.da38e5a3.js";import{u as S}from"./format.101b974f.js";const x={class:"q-pa-md"},B=r("div",{class:"row q-pb-md"},[r("div",{class:"col"},[r("span",{class:"text-h4"},"Transfer Request")]),r("div",{class:"col text-right"})],-1),F={class:"row q-pt-md"},P={class:"col"},G={__name:"transferRequestIndex",setup($){const h=S(),c=u([]),v=u([{name:"TLOCREQ_DOCNO",label:"Doc Np",field:"TLOCREQ_DOCNO",sortable:!0,align:"left"},{name:"TLOCREQ_FRLOC",label:"From Location",field:"TLOCREQ_FRLOC",sortable:!0,align:"left"},{name:"TLOCREQ_TOLOC",label:"To Location",field:"TLOCREQ_TOLOC",sortable:!0,align:"left"},{name:"TLOCREQ_ISREP",label:"Is Replacement ?",field:"TLOCREQ_ISREP",sortable:!0,format:l=>`${l==1?"Yes":"No"}`,align:"left"}]),s=u(!1),p=u(""),m=u("");y(()=>{L()});const L=async()=>{s.value=!0,await g.post("inventory/transferRequest/searchAPI",{searchBy:p.value,searchValue:m.value}).then(l=>{s.value=!1,c.value=l.data.data}).catch(l=>{s.value=!1})},w=l=>{h.dialog({title:"Confirmation",message:"Are you sure want to approve this transfer ?",cancel:!0,persistent:!0}).onOk(async()=>{s.value=!0,await g.get(`inventory/transferRequest/approve/${btoa(l)}`).then(o=>{s.value=!1,c.value=o.data.data}).catch(o=>{s.value=!1})})};return(l,o)=>(i(),f("div",x,[B,t(E),r("div",F,[r("div",P,[t(I,{title:"Transfer Request List",rows:c.value,columns:v.value,"row-key":"TDLVORD_DLVCD",loading:s.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[t(q,{outlined:"",modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e),options:v.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(k,{borderless:"",dense:"",modelValue:m.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>m.value=e),o[2]||(o[2]=e=>l.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[t(D,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[t(R,{props:e},{default:a(()=>[(i(!0),f(_,null,C(e.cols,n=>(i(),O(T,{key:n.name,props:e},{default:a(()=>[d(Q(n.label),1)]),_:2},1032,["props"]))),128)),t(T,{"auto-width":""},{default:a(()=>[d("Action")]),_:1})]),_:2},1032,["props"])]),body:a(e=>[t(R,{props:e},{default:a(()=>[(i(!0),f(_,null,C(e.cols,n=>(i(),O(b,{key:n.name,props:e},{default:a(()=>[d(Q(n.value),1)]),_:2},1032,["props"]))),128)),t(b,{"auto-width":""},{default:a(()=>[t(V,{flat:"",color:"indigo",icon:"check",onClick:n=>w(e.row.TLOCREQ_DOCNO),dense:""},{default:a(()=>[t(N,null,{default:a(()=>[d("Approve Data")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{G as default};
