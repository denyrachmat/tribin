import{t as n,o as h,C as I,R as T,F as i,aM as y,J as a,$ as w,Q as L}from"./index.d968a969.js";import{e as g}from"./QSelect.45e38a31.js";import{u as D}from"./format.877afbc3.js";import"./use-dialog-plugin-component.201a3378.js";import{api_web as C}from"./axios.a21b8897.js";const Q={class:"q-pa-md"},F=a("div",{class:"row q-pb-md"},[a("div",{class:"col"},[a("span",{class:"text-h4"},"Transfer Location")]),a("div",{class:"col text-right"})],-1),N={class:"row q-col-gutter-md q-pt-md"},U={class:"col-12"},$={class:"row q-col-gutter-md q-pt-md"},B={class:"col-12"},S={class:"row q-col-gutter-md q-pt-md"},k={class:"col-12 col-sm-6"},x={class:"col-12 col-sm-6"},P={class:"row q-col-gutter-md q-pt-md"},A={class:"col-12"},R={class:"row q-col-gutter-md q-pt-md"},E={class:"col-12"},H={__name:"transferLocIndex",setup(J){const _=D(),c=n(""),u=n(""),r=n(""),v=n(""),m=n(0),l=n(!1),b=n([]),p=n([]);h(async()=>{await M(""),await V("")});const f=(t,e,o,s)=>{e(async()=>{s==="loc"&&await M(t),s==="item"&&await V(t)})},M=async(t,e="MSUP_SUPNM")=>{l.value=!0,await C.post("location/searchAPI",{searchBy:e,searchValue:t}).then(o=>{l.value=!1,p.value=o.data.data}).catch(o=>{l.value=!1})},V=async t=>{l.value=!0,await C.post("item/searchAPITBL",{searchValue:t}).then(e=>{l.value=!1,b.value=e.data.data}).catch(()=>{l.value=!1})},O=()=>{_.dialog({title:"Confirmation",message:`Are you sure want to transfer from ${u.value} to ${r.value} ?`,cancel:!0,persistent:!0}).onOk(async()=>{l.value=!0,await C.post("inventory/transferLoc",{header:header.value}).then(t=>{l.value=!1,_.notify({color:"green",message:`${t.data.msg}`}),onDialogOK()}).catch(()=>{l.value=!1})})},q=()=>{c.value="",u.value="",r.value="",v.value="",m.value=0};return(t,e)=>(I(),T("div",Q,[F,i(y),a("div",N,[a("div",U,[i(w,{label:"Doc Code",dense:"",filled:"",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o)},null,8,["modelValue"])])]),a("div",$,[a("div",B,[i(g,{dense:"",filled:"",label:"Item Name",modelValue:v.value,"onUpdate:modelValue":e[1]||(e[1]=o=>v.value=o),"use-input":"","input-debounce":"500",options:b.value,onFilter:e[2]||(e[2]=(o,s,d)=>f(o,s,d,"item")),behavior:"dialog","option-label":"MITM_ITMNM","option-value":"MITM_ITMCD","emit-value":"","map-options":"",loading:l.value},null,8,["modelValue","options","loading"])])]),a("div",S,[a("div",k,[i(g,{dense:"",filled:"",label:"Transfer From",modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),"use-input":"","input-debounce":"500",options:p.value,onFilter:e[4]||(e[4]=(o,s,d)=>f(o,s,d,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:l.value},null,8,["modelValue","options","loading"])]),a("div",x,[i(g,{dense:"",filled:"",label:"Transfer To",modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=o=>r.value=o),"use-input":"","input-debounce":"500",options:p.value,onFilter:e[6]||(e[6]=(o,s,d)=>f(o,s,d,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:l.value},null,8,["modelValue","options","loading"])])]),a("div",P,[a("div",A,[i(w,{label:"Qty",dense:"",filled:"",modelValue:m.value,"onUpdate:modelValue":e[7]||(e[7]=o=>m.value=o)},null,8,["modelValue"])])]),a("div",R,[a("div",E,[i(L,{color:"primary",label:"Save",onClick:e[8]||(e[8]=o=>O())}),i(L,{color:"warning",label:"Clear",onClick:e[9]||(e[9]=o=>q())})])])]))}};export{H as default};
