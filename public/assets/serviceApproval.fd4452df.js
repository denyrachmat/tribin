import{s as r,o as m,B as f,P as h,I as a,E as t,D as s,Z as b,am as p,L as S,M as i,bc as g,O as o,aX as w,Q as C}from"./index.1a4eedb7.js";import{a as V,k as x}from"./QTable.5f44d6ad.js";import{api_web as M}from"./axios.7fbcee53.js";import"./QPopupEdit.61c61623.js";import"./QTooltip.78c92850.js";import"./QBadge.deece6a0.js";import"./QBtnGroup.87cc627e.js";const D={class:"q-pa-md"},N={class:"row"},Q={class:"col"},U={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},I={class:"text-h5 text-bold"},O={class:"text-h6 text-bold"},R={class:"text-subtitle2"},k={class:"text-h6 text-bold"},H=a("div",{class:"text-subtitle2"},"Resolved Items",-1),P={class:"row"},B={class:"col"},y=a("div",{class:"col text-right"},null,-1),Z={__name:"serviceApproval",setup(L){V(),r([{name:"SRVH_DOCNO",label:"SPK No",field:"SRVH_DOCNO",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"resolve",label:"Resolved Line",sortable:!0,align:"left",field:e=>e.resolve.length},{name:"unresolve",label:"Unresolved Line",sortable:!0,align:"left",field:e=>e.unresolve.length},{name:"SRVH_ISSDT",label:"Submited Date",field:"SRVH_ISSDT",sortable:!0,align:"left"}]);const c=r([]),d=r(""),n=r(!1),v=r(null);m(()=>{u(),v.value=setInterval(()=>{u()},1e4)});const u=async()=>{n.value=!0,await M.get("servicesAdmin/listUnapproveMgr").then(e=>{n.value=!1,c.value=e.data.data}).catch(e=>{n.value=!1})};return(e,_)=>(f(),h("div",D,[a("div",N,[a("div",Q,[t(x,{grid:"",flat:"",bordered:"","card-container-class":e.cardContainerClass,title:"Service Approval List",rows:c.value,columns:e.columns,"row-key":"name",filter:d.value,"hide-header":"",pagination:{rowsPerPage:50},"rows-per-page-options":e.rowsPerPageOptions,loading:n.value},{"top-right":s(()=>[t(b,{borderless:"",dense:"",debounce:"300",modelValue:d.value,"onUpdate:modelValue":_[0]||(_[0]=l=>d.value=l),placeholder:"Search"},{append:s(()=>[t(p,{name:"search"})]),_:1},8,["modelValue"])]),item:s(l=>[a("div",U,[t(S,{flat:"",bordered:""},{default:s(()=>[t(i,{class:g(`text-center bg-${e.statusMaker(l.row).color} text-white`)},{default:s(()=>[a("div",I,o(l.row.SRVH_DOCNO),1),a("div",null,o(e.statusMaker(l.row).label),1)]),_:2},1032,["class"]),t(w),t(i,null,{default:s(()=>[a("div",O,o(l.row.MCUS_CUSNM),1),a("div",R,o(l.row.SRVH_ISSDT),1)]),_:2},1024),t(i,null,{default:s(()=>[a("div",k,o(l.row.resolve.length)+" of "+o(l.row.detail.length),1),H]),_:2},1024),t(i,null,{default:s(()=>[a("div",P,[a("div",B,[t(C,{label:"View Data",color:"primary",outline:""})]),y])]),_:1})]),_:2},1024)])]),_:1},8,["card-container-class","rows","columns","filter","rows-per-page-options","loading"])])])]))}};export{Z as default};
