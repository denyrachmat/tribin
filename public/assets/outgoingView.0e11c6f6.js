import{Q as R}from"./QTooltip.9f2f0356.js";import{s as r,B as d,C,D as l,E as e,L as M,M as b,I as s,Z as V,am as U,P as S,R as O,S as h,H as u,O as w,Q as p,W as q,X as T,Y as P,T as A,o as B,aX as H}from"./index.5d70b5b0.js";import{u as Q,j as I,k as N,l as L}from"./QTable.72fe938d.js";import{Q as k,a as y}from"./QTd.0c253fd7.js";import{api_web as K}from"./axios.c980d676.js";import{Q as Y,a as j,C as X}from"./ClosePopup.661785ef.js";import{u as E}from"./use-dialog-plugin-component.40fd5445.js";import"./use-cache.b0833c75.js";import"./date.9472e9fb.js";const F=s("div",{class:"text-h6"},"Sales Order Choose",-1),W={class:"row"},Z={class:"col"},z={__name:"salesOrderChoose",setup($){Q();const v=r([]),c=r([{name:"TSLO_SLOCD",label:"Sales Ord Code",field:"TSLO_SLOCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TSLO_POCD",label:"PO Number",field:"TSLO_POCD",sortable:!0,align:"left"}]),_=r(!1),m=(t,o,a)=>{console.log(o),D(o)},{dialogRef:f,onDialogHide:g,onDialogOK:D,onDialogCancel:n}=E();return(t,o)=>(d(),C(P,{ref_key:"dialogRef",ref:f,onHide:T(g),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(M,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(b,null,{default:l(()=>[F]),_:1}),e(b,{class:"q-pa-sm"},{default:l(()=>[s("div",W,[s("div",Z,[e(I,{title:"Outgoing List",rows:v.value,columns:c.value,"row-key":"TDLVORD_DLVCD",loading:_.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table",onRowClick:m},{"top-right":l(()=>[e(N,{outlined:"",modelValue:t.filterCol,"onUpdate:modelValue":o[0]||(o[0]=a=>t.filterCol=a),options:c.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(V,{borderless:"",dense:"",modelValue:t.filter,"onUpdate:modelValue":[o[1]||(o[1]=a=>t.filter=a),o[2]||(o[2]=a=>t.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e(U,{name:"search"})]),_:1},8,["modelValue"])]),header:l(a=>[e(k,{props:a},{default:l(()=>[(d(!0),S(O,null,h(a.cols,i=>(d(),C(L,{key:i.name,props:a},{default:l(()=>[u(w(i.label),1)]),_:2},1032,["props"]))),128)),e(L,{"auto-width":""},{default:l(()=>[u("Action")]),_:1})]),_:2},1032,["props"])]),body:l(a=>[e(k,{props:a},{default:l(()=>[(d(!0),S(O,null,h(a.cols,i=>(d(),C(y,{key:i.name,props:a},{default:l(()=>[u(w(i.value),1)]),_:2},1032,["props"]))),128)),e(y,{"auto-width":""},{default:l(()=>[e(p,{flat:"",color:"orange",icon:"edit",onClick:o[3]||(o[3]=i=>t.onEdit()),dense:""},{default:l(()=>[e(R,null,{default:l(()=>[u("Edit Data")]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]),_:1}),e(q,{align:"right"},{default:l(()=>[e(p,{flat:"",label:"Cancel",color:"red",onClick:T(n)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},G=s("div",{class:"text-h6"},"Create Outgoing Delivery",-1),J={class:"row"},x={class:"col"},ee={class:"col q-pl-md"},le={class:"row items-center justify-end"},oe={class:"row q-pt-md"},ae={class:"col"},te={__name:"outgoingCreate",setup($){const v=Q();r(!1);const c=()=>{},_=()=>{v.dialog({component:z}).onOk(async n=>{console.log(n)})},{dialogRef:m,onDialogHide:f,onDialogOK:g,onDialogCancel:D}=E();return(n,t)=>(d(),C(P,{ref_key:"dialogRef",ref:m,onHide:T(f),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(M,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(b,null,{default:l(()=>[G]),_:1}),e(b,{class:"q-pa-sm"},{default:l(()=>[s("div",J,[s("div",x,[e(V,{label:"Code",readonly:"",dense:"",filled:"",modelValue:n.TDLVORD_CUSCD,"onUpdate:modelValue":t[0]||(t[0]=o=>n.TDLVORD_CUSCD=o)},null,8,["modelValue"])]),s("div",ee,[e(V,{filled:"",modelValue:n.TDLVORD_ISSUDT,"onUpdate:modelValue":t[2]||(t[2]=o=>n.TDLVORD_ISSUDT=o)},{append:l(()=>[e(U,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(Y,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(j,{modelValue:n.TDLVORD_ISSUDT,"onUpdate:modelValue":t[1]||(t[1]=o=>n.TDLVORD_ISSUDT=o),mask:"YYYY-MM-DD"},{default:l(()=>[s("div",le,[A(e(p,{label:"Close",color:"primary",flat:""},null,512),[[X]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),s("div",oe,[s("div",ae,[e(V,{"bottom-slots":"",modelValue:n.TDLVORDDETA_SLOCD,"onUpdate:modelValue":t[3]||(t[3]=o=>n.TDLVORDDETA_SLOCD=o),label:"Sales Order",counter:"",maxlength:"12",dense:n.dense},{append:l(()=>[e(p,{round:"",dense:"",flat:"",icon:"search",onClick:_})]),_:1},8,["modelValue","dense"])])])]),_:1}),e(q,{align:"right"},{default:l(()=>[e(p,{label:"OK",color:"primary",onClick:t[4]||(t[4]=o=>c())}),e(p,{flat:"",label:"Cancel",color:"red",onClick:T(D)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},se={class:"q-pa-md"},ne={class:"row q-pb-md"},ie=s("div",{class:"col"},[s("span",{class:"text-h4"},"Outgoing")],-1),de={class:"col text-right"},re={class:"row q-pt-md"},ue={class:"col"},Ve={__name:"outgoingView",setup($){const v=Q(),c=r([]),_=r([{name:"TDLVORD_DLVCD",label:"Delivery ID",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TDLVORD_ISSUDT",label:"Issue Date",field:"TDLVORD_ISSUDT",sortable:!0,align:"left"},{name:"TDLVORD_REMARK",label:"Remark",field:"TDLVORD_REMARK",sortable:!0,align:"left"}]),m=r(!1),f=r(""),g=r("");B(()=>{D()});const D=async()=>{m.value=!0,await K.post("delivery/searchAPI",{searchBy:f.value,searchValue:g.value}).then(t=>{m.value=!1,c.value=t.data.data}).catch(t=>{m.value=!1})},n=()=>{v.dialog({component:te}).onOk(async t=>{D()})};return(t,o)=>(d(),S("div",se,[s("div",ne,[ie,s("div",de,[e(p,{icon:"add",color:"blue",onClick:n},{default:l(()=>[e(R,null,{default:l(()=>[u("Create New Delivery")]),_:1})]),_:1})])]),e(H),s("div",re,[s("div",ue,[e(I,{title:"Outgoing List",rows:c.value,columns:_.value,"row-key":"TDLVORD_DLVCD",loading:m.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":l(()=>[e(N,{outlined:"",modelValue:f.value,"onUpdate:modelValue":o[0]||(o[0]=a=>f.value=a),options:_.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(V,{borderless:"",dense:"",modelValue:g.value,"onUpdate:modelValue":[o[1]||(o[1]=a=>g.value=a),o[2]||(o[2]=a=>D())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e(U,{name:"search"})]),_:1},8,["modelValue"])]),header:l(a=>[e(k,{props:a},{default:l(()=>[(d(!0),S(O,null,h(a.cols,i=>(d(),C(L,{key:i.name,props:a},{default:l(()=>[u(w(i.label),1)]),_:2},1032,["props"]))),128)),e(L,{"auto-width":""},{default:l(()=>[u("Action")]),_:1})]),_:2},1032,["props"])]),body:l(a=>[e(k,{props:a},{default:l(()=>[(d(!0),S(O,null,h(a.cols,i=>(d(),C(y,{key:i.name,props:a},{default:l(()=>[u(w(i.value),1)]),_:2},1032,["props"]))),128)),e(y,{"auto-width":""},{default:l(()=>[e(p,{flat:"",color:"orange",icon:"edit",onClick:o[3]||(o[3]=i=>t.onEdit()),dense:""},{default:l(()=>[e(R,null,{default:l(()=>[u("Edit Data")]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{Ve as default};
