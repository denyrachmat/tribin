import{t as i,o as O,C as q,R as I,F as n,aM as h,J as l,$ as V,Q as _}from"./index.3bf88c09.js";import{e as f}from"./QSelect.fea96bf9.js";import{u as T}from"./format.a025b8e3.js";import"./use-dialog-plugin-component.6b62d87e.js";import{api_web as g}from"./axios.cd1d61da.js";const y={class:"q-pa-md"},D=l("div",{class:"row q-pb-md"},[l("div",{class:"col"},[l("span",{class:"text-h4"},"Transfer Location")]),l("div",{class:"col text-right"})],-1),N={class:"row q-col-gutter-md q-pt-md"},Q={class:"col-12"},F={class:"row q-col-gutter-md q-pt-md"},U={class:"col-12"},$={class:"row q-col-gutter-md q-pt-md"},S={class:"col-12 col-sm-6"},k={class:"col-12 col-sm-6"},B={class:"row q-col-gutter-md q-pt-md"},A={class:"col-12"},P={class:"row q-col-gutter-md q-pt-md"},R={class:"col-12"},z={__name:"transferLocIndex",setup(x){const C=T(),c=i(""),u=i(""),r=i(""),m=i(""),v=i(0),a=i(!1);O(async()=>{await M(""),await b("")});const p=(t,e,o,s)=>{e(async()=>{s==="loc"&&await M(t),s==="item"&&await b(t)})},M=async(t,e="MSUP_SUPNM")=>{a.value=!0,await g.post("location/searchAPI",{searchBy:e,searchValue:t}).then(o=>{a.value=!1,listLoc.value=o.data.data}).catch(o=>{a.value=!1})},b=async t=>{a.value=!0,await g.post("item/searchAPI",{searchValue:t}).then(e=>{a.value=!1,listItems.value=e.data.data}).catch(()=>{a.value=!1})},L=()=>{C.dialog({title:"Confirmation",message:`Are you sure want to transfer from ${u.value} to ${r.value} ?`,cancel:!0,persistent:!0}).onOk(async()=>{a.value=!0,await g.post("location",{header:header.value}).then(t=>{a.value=!1,C.notify({color:"green",message:`${t.data.msg}`}),onDialogOK()}).catch(()=>{a.value=!1})})},w=()=>{c.value="",u.value="",r.value="",m.value="",v.value=0};return(t,e)=>(q(),I("div",y,[D,n(h),l("div",N,[l("div",Q,[n(V,{label:"Doc Code",dense:"",filled:"",modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=o=>c.value=o)},null,8,["modelValue"])])]),l("div",F,[l("div",U,[n(f,{dense:"",filled:"",label:"Item Name",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=o=>m.value=o),"use-input":"","input-debounce":"500",options:t.listItems,onFilter:e[2]||(e[2]=(o,s,d)=>p(o,s,d,"item")),behavior:"dialog","option-label":"MITM_ITMNMREAL","option-value":"MITM_ITMNM","emit-value":"","map-options":"",loading:a.value},null,8,["modelValue","options","loading"])])]),l("div",$,[l("div",S,[n(f,{dense:"",filled:"",label:"Transfer From",modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),"use-input":"","input-debounce":"500",options:t.listLoc,onFilter:e[4]||(e[4]=(o,s,d)=>p(o,s,d,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:a.value},null,8,["modelValue","options","loading"])]),l("div",k,[n(f,{dense:"",filled:"",label:"Transfer To",modelValue:r.value,"onUpdate:modelValue":e[5]||(e[5]=o=>r.value=o),"use-input":"","input-debounce":"500",options:t.listLoc,onFilter:e[6]||(e[6]=(o,s,d)=>p(o,s,d,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:a.value},null,8,["modelValue","options","loading"])])]),l("div",B,[l("div",A,[n(V,{label:"Qty",dense:"",filled:"",modelValue:v.value,"onUpdate:modelValue":e[7]||(e[7]=o=>v.value=o)},null,8,["modelValue"])])]),l("div",P,[l("div",R,[n(_,{color:"primary",label:"Save",onClick:e[8]||(e[8]=o=>L())}),n(_,{color:"warning",label:"Clear",onClick:e[9]||(e[9]=o=>w())})])])]))}};export{z as default};
