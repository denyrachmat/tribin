import{Q as p}from"./QTooltip.c45e108d.js";import{s as i,o as N,B as u,R as f,I as r,E as a,D as e,Q as C,S as V,H as s,P as q,aa as P,aY as O,aZ as b,C as U,a$ as g}from"./index.efcd1015.js";import{u as B,a as I,b as x,n as h}from"./QTable.668d15b8.js";import{Q as w,a as S}from"./QTd.6af9cba6.js";import{api_web as A}from"./axios.fd20acf6.js";const E={class:"q-pa-md"},M={class:"row q-pb-md"},$=r("div",{class:"col"},[r("span",{class:"text-h4"},"Receive Order ")],-1),j={class:"col text-right"},J={class:"row q-pt-md"},L={class:"col"},G={__name:"serviceView",setup(R){const Q=B(),_=i("TQUO_QUOCD"),m=i(""),v=i([]),T=i([{name:"TQUO_QUOCD",label:"Quot. Code",field:"TQUO_QUOCD",sortable:!0,align:"left"},{name:"TQUO_SBJCT",label:"Quot. Subject",field:"TQUO_SBJCT",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TQUO_ATTN",label:"Customer Attn",field:"TQUO_ATTN",sortable:!0,align:"left"},{name:"TQUO_CUSCD",label:"Customer Code",field:"TQUO_CUSCD",sortable:!0,align:"left"},{name:"TQUO_ISSUDT",label:"Issue Date",field:"TQUO_ISSUDT",sortable:!0,align:"left"},{name:"TQUO_PROJECT_LOCATION",label:"Proj. Loc",field:"TQUO_PROJECT_LOCATION",sortable:!0,align:"left"}]),d=i(!1);N(()=>{c()});const c=async()=>{d.value=!0,await A.post("quotation/search",{searchBy:_.value,searchValue:m.value}).then(o=>{d.value=!1,v.value=o.data.data}).catch(o=>{d.value=!1})},k=()=>{Q.dialog({component:quotationCreate}).onOk(async o=>{c()})},y=o=>{console.log(o),Q.dialog({component:quotationCreate,componentProps:{quoHeader:o}}).onOk(async l=>{c()})},D=o=>{window.open("https://joss.jatpowerindo.co.id/PDF/quotation/"+btoa(o),"_blank").focus()};return(o,l)=>(u(),f("div",E,[r("div",M,[$,r("div",j,[a(C,{icon:"add",color:"blue",onClick:k},{default:e(()=>[a(p,null,{default:e(()=>[s("Create New Order")]),_:1})]),_:1})])]),a(V),r("div",J,[r("div",L,[a(I,{title:"Created Order",rows:v.value,columns:T.value,"row-key":"name",loading:d.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[a(x,{outlined:"",modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=t=>_.value=t),options:T.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),a(q,{borderless:"",dense:"",modelValue:m.value,"onUpdate:modelValue":[l[1]||(l[1]=t=>m.value=t),l[2]||(l[2]=t=>c())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[a(P,{name:"search"})]),_:1},8,["modelValue"])]),header:e(t=>[a(w,{props:t},{default:e(()=>[(u(!0),f(O,null,b(t.cols,n=>(u(),U(h,{key:n.name,props:t},{default:e(()=>[s(g(n.label),1)]),_:2},1032,["props"]))),128)),a(h,{"auto-width":""},{default:e(()=>[s("Action")]),_:1})]),_:2},1032,["props"])]),body:e(t=>[a(w,{props:t},{default:e(()=>[(u(!0),f(O,null,b(t.cols,n=>(u(),U(S,{key:n.name,props:t},{default:e(()=>[s(g(n.value),1)]),_:2},1032,["props"]))),128)),a(S,{"auto-width":""},{default:e(()=>[a(C,{flat:"",color:"orange",icon:"edit",onClick:n=>y(t.row.TQUO_QUOCD),dense:""},{default:e(()=>[a(p,null,{default:e(()=>[s("Edit this quotation")]),_:1})]),_:2},1032,["onClick"]),a(C,{flat:"",color:"indigo",icon:"print",onClick:n=>D(t.row.TQUO_QUOCD),dense:""},{default:e(()=>[a(p,null,{default:e(()=>[s("Print this quotation")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{G as default};
