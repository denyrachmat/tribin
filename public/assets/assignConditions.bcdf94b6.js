import{h as o,c as V,J as R,K as q,s as r,o as A,B as p,L as N,I as s,E as a,D as e,M as E,Q as m,H as d,O as T,C as _,P as G,R as L,S as $,T as z,U as I}from"./index.428f9063.js";import{Q as y}from"./QTooltip.52de6d23.js";import{u as F,a as H,Q as U,b as K,c as g,d as S,e as O}from"./QTable.c2e3651a.js";import{api as b}from"./axios.d46dd2c0.js";import{_ as J}from"./assignConditionsView.553aa386.js";const Y=[o("g",{transform:"translate(20 50)"},[o("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.6"},[o("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),o("g",{transform:"translate(50 50)"},[o("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.8"},[o("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.1s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])]),o("g",{transform:"translate(80 50)"},[o("rect",{x:"-10",y:"-30",width:"20",height:"60",fill:"currentColor",opacity:"0.9"},[o("animateTransform",{attributeName:"transform",type:"scale",from:"2",to:"1",begin:"0.2s",repeatCount:"indefinite",dur:"1s",calcMode:"spline",keySplines:"0.1 0.9 0.4 1",keyTimes:"0;1",values:"2;1"})])])];var Q=V({name:"QSpinnerFacebook",props:R,setup(k){const{cSize:u,classes:l}=q(k);return()=>o("svg",{class:l.value,width:u.value,height:u.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},Y)}});const j={class:"q-pa-md"},W=s("div",{class:"row"},[s("div",{class:"col"},[s("div",{class:"text-h6"},"Assign Condition Group")])],-1),X={class:"row q-pt-md"},Z={class:"col"},ee={class:"row"},ae={class:"col"},te={class:"col text-right"},oe={class:"row q-pt-md"},se={class:"col",style:{"max-height":"80vh",overflow:"auto"}},ue={__name:"assignConditions",setup(k){r([{name:"id",align:"left",label:"ID",field:"id",sortable:!0},{name:"MCONDITION_DESCRIPTION",align:"left",label:"Description",field:"MCONDITION_DESCRIPTION",sortable:!0}]);const u=r([]);r({sortBy:"desc",descending:!1,rowsPerPage:0});const l=r([]),n=r(""),h=r("new"),v=r(!1),i=F();H(),A(()=>{M()});const C=()=>{l.value=[],n.value="",h.value="new"},x=()=>{i.dialog({title:"Confirmation",message:"Are you sure want to delete this group ?",cancel:!0,persistent:!0}).onOk(async()=>{i.loading.show({spinner:Q,spinnerColor:"yellow",spinnerSize:140,backgroundColor:"purple",message:"Save your information, Hang on...",messageColor:"black"}),await b.delete(`/master/conditions/deleteDataGroup/${btoa(n.value)}`).then(t=>{i.loading.hide(),C()})})},M=async()=>{v.value=!0,await b.get("/master/conditions/getdata").then(t=>{console.log(t),v.value=!1,u.value=t.data}).catch(t=>{v.value=!1})},P=()=>{i.dialog({component:J}).onOk(async t=>{n.value=t.MCONDITION_RPT_STAT,l.value=t.group.map(c=>c.id),h.value="edit"})},B=()=>{i.dialog({title:"Confirmation",message:"Do you want to save this group ?",cancel:!0,persistent:!0}).onOk(async()=>{i.loading.show({spinner:Q,spinnerColor:"yellow",spinnerSize:140,backgroundColor:"purple",message:"Save your information, Hang on...",messageColor:"black"}),await b.post("/master/conditions/assignGroup",{data:l.value,MCONDITION_RPT_STAT:n.value}).then(t=>{i.loading.hide(),C()}).catch(t=>{i.loading.hide()})})};return(t,c)=>(p(),N("div",j,[W,s("div",X,[s("div",Z,[s("div",ee,[s("div",ae,[a(E,{label:"Group Name",outlined:"",dense:"",modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=f=>n.value=f),disable:h.value==="edit"},{after:e(()=>[a(m,{dense:"",icon:"search",color:"blue",flat:"",onClick:P})]),_:1},8,["modelValue","disable"])]),s("div",te,[a(U,{outline:""},{default:e(()=>[a(m,{outline:"",color:"blue",icon:"description",onClick:C},{default:e(()=>[a(y,null,{default:e(()=>[d("New")]),_:1})]),_:1}),a(m,{outline:"",color:"blue",icon:"save",onClick:B,disable:!n.value||l.value.length===0},{default:e(()=>[a(y,null,{default:e(()=>[d("Save Conditions")]),_:1})]),_:1},8,["disable"]),a(m,{outline:"",color:"red",icon:"delete",onClick:x,disable:!n.value},{default:e(()=>[a(y,null,{default:e(()=>[d("Delete")]),_:1})]),_:1},8,["disable"])]),_:1})])]),s("div",oe,[s("div",se,[a(K,{bordered:""},{default:e(()=>[u.value.length===0?T((p(),_(S,{key:0,class:"q-my-sm",clickable:"",tag:"label"},{default:e(()=>[v.value?(p(),_(g,{key:0},{default:e(()=>[d(" Data is loading, please wait. ")]),_:1})):(p(),_(g,{key:1},{default:e(()=>[d(" No Data Available ! ")]),_:1}))]),_:1})),[[I]]):(p(!0),N(G,{key:1},L(u.value,(f,w)=>T((p(),_(S,{key:w,class:"q-my-sm",clickable:"",tag:"label"},{default:e(()=>[a(g,{side:"",top:""},{default:e(()=>[a($,{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=D=>l.value=D),val:f.id},null,8,["modelValue","val"])]),_:2},1024),a(g,null,{default:e(()=>[a(O,null,{default:e(()=>[d(z(f.MCONDITION_DESCRIPTION),1)]),_:2},1024),a(O,{caption:"",lines:"1"},{default:e(()=>[d("Description")]),_:1})]),_:2},1024),a(g,{side:""},{default:e(()=>[a(m,{name:"delete",color:"red",flat:"",onClick:D=>t.onDeleteCondition(w)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)),[[I]])),128))]),_:1})])])])])]))}};export{ue as default};
