import{u as T,j as B,k as I,l as v}from"./QTable.a7897ccf.js";import{s as r,o as L,B as i,P as p,I as _,E as l,D as e,Z as N,am as U,R as h,S as b,C as g,H as u,O as V,Q as w}from"./index.e94acf9c.js";import{Q as C,a as Q}from"./QTd.4124e08a.js";import{Q as D}from"./QTooltip.4e4c39f1.js";import{api_web as k}from"./axios.289cb9e6.js";const M={class:"q-pa-md"},O={class:"row"},P={class:"col"},A={__name:"invoiceView",setup(R){T();const m=r([]),f=r([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),o=r(!1),d=r(""),c=r("");L(()=>{y()});const y=async()=>{o.value=!0,await k.post("invoices/search",{searchBy:d.value,searchValue:c.value}).then(s=>{o.value=!1,m.value=s.data.data}).catch(s=>{o.value=!1})},S=async s=>{o.value=!0,await k.post("invoices/printInvoice",s).then(t=>{o.value=!1,console.log(t)}).catch(t=>{o.value=!1})};return(s,t)=>(i(),p("div",M,[_("div",O,[_("div",P,[l(B,{title:"Invoice List",rows:m.value,columns:f.value,"row-key":"name",loading:o.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[l(I,{outlined:"",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),l(N,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[t[1]||(t[1]=a=>c.value=a),t[2]||(t[2]=a=>s.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[l(U,{name:"search"})]),_:1},8,["modelValue"])]),header:e(a=>[l(C,{props:a},{default:e(()=>[(i(!0),p(h,null,b(a.cols,n=>(i(),g(v,{key:n.name,props:a},{default:e(()=>[u(V(n.label),1)]),_:2},1032,["props"]))),128)),l(v,{"auto-width":""},{default:e(()=>[u("Action")]),_:1})]),_:2},1032,["props"])]),body:e(a=>[l(C,{props:a},{default:e(()=>[(i(!0),p(h,null,b(a.cols,n=>(i(),g(Q,{key:n.name,props:a},{default:e(()=>[u(V(n.value),1)]),_:2},1032,["props"]))),128)),l(Q,{"auto-width":""},{default:e(()=>[l(w,{flat:"",color:"green",icon:"print",dense:"",onClick:n=>S(a.row)},{default:e(()=>[l(D,null,{default:e(()=>[u("Print Invoice")]),_:1})]),_:2},1032,["onClick"]),l(w,{flat:"",color:"indigo",icon:"print",dense:""},{default:e(()=>[l(D,null,{default:e(()=>[u("Print Receipt")]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{A as default};
