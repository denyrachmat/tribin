import{s as o,o as S,B as v,C as h,D as t,E as a,L as w,M as r,P as b,R as H,S as R,bc as C,U as N,H as O,O as n,X as k,Y as U,I as l,Z as y,am as I,aX as M,Q as P}from"./index.4d74af31.js";import{a as D,u as q,Q as L,b as T,c as A,k as B}from"./QTable.aefbd1fb.js";import{api_web as V}from"./axios.ac96551e.js";const $=l("div",{class:"text-h6"},"View List Price",-1),E={__name:"serviceApprovalDetView",props:{idHeader:String},setup(g){D();const{dialogRef:m,onDialogHide:c,onDialogOK:u,onDialogCancel:i}=q(),_=g,f=o([]),e=o(!1);S(()=>{d()});const d=async()=>{e.value=!0,await V.get(`servicesAdmins/viewUnapproveMgrDet/${btoa(_.idHeader)}`).then(s=>{e.value=!1,rows.value=s.data}).catch(s=>{e.value=!1})};return(s,x)=>(v(),h(U,{ref_key:"dialogRef",ref:m,onHide:k(c),"transition-show":"slide-up","transition-hide":"slide-down","full-width":""},{default:t(()=>[a(w,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:t(()=>[a(r,null,{default:t(()=>[$]),_:1}),a(r,{class:"q-pa-sm"},{default:t(()=>[a(L,{bordered:""},{default:t(()=>[(v(!0),b(H,null,R(f.value,(Q,p)=>(v(),h(T,{key:p,class:C("q-my-sm")},{default:t(()=>[a(A,{avatar:""},{default:t(()=>[a(N,{color:Q.TSRVD_FLGSTS===0?"red":"primary","text-color":"white"},{default:t(()=>[O(n(p+1),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}},F={class:"q-pa-md"},K={class:"row"},X={class:"col"},z={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},G={class:"text-h5 text-bold"},Y={class:"text-h6 text-bold"},Z={class:"text-subtitle2"},j={class:"text-h6 text-bold"},J=l("div",{class:"text-subtitle2"},"Resolved Items",-1),W={class:"row"},ee={class:"col"},le={__name:"serviceApproval",setup(g){const m=D();o([{name:"SRVH_DOCNO",label:"SPK No",field:"SRVH_DOCNO",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"resolve",label:"Resolved Line",sortable:!0,align:"left",field:e=>e.resolve.length},{name:"unresolve",label:"Unresolved Line",sortable:!0,align:"left",field:e=>e.unresolve.length},{name:"SRVH_ISSDT",label:"Submited Date",field:"SRVH_ISSDT",sortable:!0,align:"left"}]);const c=o([]),u=o(""),i=o(!1);o(null),S(()=>{_()});const _=async()=>{i.value=!0,await V.get("servicesAdmins/listUnapproveMgr").then(e=>{i.value=!1,c.value=e.data}).catch(e=>{i.value=!1})},f=e=>{m.dialog({component:E,componentProps:{idHeader:e}}).onOk(async d=>{_()})};return(e,d)=>(v(),b("div",F,[l("div",K,[l("div",X,[a(B,{grid:"",flat:"",bordered:"","card-container-class":e.cardContainerClass,title:"Approve Service Pricing",rows:c.value,columns:e.columns,"row-key":"name",filter:u.value,"hide-header":"",pagination:{rowsPerPage:50},"rows-per-page-options":e.rowsPerPageOptions,loading:i.value},{"top-right":t(()=>[a(y,{borderless:"",dense:"",debounce:"300",modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=s=>u.value=s),placeholder:"Search"},{append:t(()=>[a(I,{name:"search"})]),_:1},8,["modelValue"])]),item:t(s=>[l("div",z,[a(w,{flat:"",bordered:""},{default:t(()=>[a(r,{class:C("text-center bg-green text-white")},{default:t(()=>[l("div",G,n(s.row.SRVH_DOCNO),1)]),_:2},1024),a(M),a(r,null,{default:t(()=>[l("div",Y,n(s.row.MCUS_CUSNM),1),l("div",Z,n(s.row.SRVH_ISSDT),1)]),_:2},1024),a(r,null,{default:t(()=>[l("div",j,n(s.row.resolve.length)+" of "+n(s.row.detail.length),1),J]),_:2},1024),a(r,null,{default:t(()=>[l("div",W,[l("div",ee,[a(P,{color:"primary",label:"View Data",onClick:x=>f(s.row.SRVH_DOCNO)},null,8,["onClick"])])])]),_:2},1024)]),_:2},1024)])]),_:1},8,["card-container-class","rows","columns","filter","rows-per-page-options","loading"])])])]))}};export{le as default};
