import{Q as K}from"./QTooltip.181a2dc0.js";import{h as D,c as X,J as oe,K as se,ah as ne,a1 as de,aj as ie,a5 as re,a as Y,aa as ue,g as ce,bh as me,s as o,o as F,B as p,C as O,D as l,E as e,L as J,M as q,I as a,Z as b,am as E,P as U,R as Q,S as I,H as V,O as R,W,Q as T,X as N,Y as Z,T as j,U as pe,V as fe,aX as _e}from"./index.13ab8993.js";import{u as z,j as ee,k as le,l as A,Q as ve,a as G,b as M,c as $}from"./QTable.9be57ce8.js";import{Q as x,a as B}from"./QTd.85f068d3.js";import{api_web as H}from"./axios.ef9b7326.js";import{Q as ge,a as Ce,C as De}from"./ClosePopup.fa593ac2.js";import{u as ae}from"./use-dialog-plugin-component.1fae371b.js";import"./use-cache.b0833c75.js";import"./date.0fb6a0eb.js";const be=[D("g",{transform:"translate(-20,-20)"},[D("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[D("animateTransform",{attributeName:"transform",type:"rotate",from:"90 50 50",to:"0 50 50",dur:"1s",repeatCount:"indefinite"})])]),D("g",{transform:"translate(20,20) rotate(15 50 50)"},[D("path",{d:"M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z",fill:"currentColor"},[D("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"90 50 50",dur:"1s",repeatCount:"indefinite"})])])];var he=X({name:"QSpinnerGears",props:oe,setup(d){const{cSize:f,classes:i}=se(d);return()=>D("svg",{class:i.value,width:f.value,height:f.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},be)}}),Se=X({name:"QInnerLoading",props:{...ne,...de,showing:Boolean,color:String,size:{type:[String,Number],default:42},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(d,{slots:f}){const i=ce(),g=ie(d,i.proxy.$q),{transitionProps:r,transitionStyle:_}=re(d),h=Y(()=>"q-inner-loading absolute-full column flex-center"+(g.value===!0?" q-inner-loading--dark":"")),C=Y(()=>"q-inner-loading__label"+(d.labelClass!==void 0?` ${d.labelClass}`:""));function y(){const u=[D(me,{size:d.size,color:d.color})];return d.label!==void 0&&u.push(D("div",{class:C.value,style:d.labelStyle},[d.label])),u}function v(){return d.showing===!0?D("div",{class:h.value,style:_.value},f.default!==void 0?f.default():y()):null}return()=>D(ue,r.value,v)}});const Ve=a("div",{class:"text-h6"},"Sales Order Choose",-1),ye={class:"row"},Le={class:"col"},we={__name:"salesOrderChoose",setup(d){z();const f=o([]),i=o([{name:"TSLO_SLOCD",label:"Sales Ord Code",field:"TSLO_SLOCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TSLO_PLAN_DLVDT",label:"DLV Plan Date",field:"TSLO_PLAN_DLVDT",sortable:!0,align:"left"}]),g=o(!1),r=o(""),_=o("");F(()=>{h()});const h=async()=>{g.value=!0,await H.post("delivery/outstanding-warehouse-api",{searchBy:r.value,searchValue:_.value}).then(c=>{g.value=!1,f.value=c.data.data}).catch(c=>{g.value=!1})},C=c=>{u(c)},{dialogRef:y,onDialogHide:v,onDialogOK:u,onDialogCancel:n}=ae();return(c,L)=>(p(),O(Z,{ref_key:"dialogRef",ref:y,onHide:N(v),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(J,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(q,null,{default:l(()=>[Ve]),_:1}),e(q,{class:"q-pa-sm"},{default:l(()=>[a("div",ye,[a("div",Le,[e(ee,{title:"Outgoing List",rows:f.value,columns:i.value,"row-key":"TDLVORD_DLVCD",loading:g.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":l(()=>[e(le,{outlined:"",modelValue:r.value,"onUpdate:modelValue":L[0]||(L[0]=m=>r.value=m),options:i.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(b,{borderless:"",dense:"",modelValue:_.value,"onUpdate:modelValue":[L[1]||(L[1]=m=>_.value=m),L[2]||(L[2]=m=>c.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e(E,{name:"search"})]),_:1},8,["modelValue"])]),header:l(m=>[e(x,{props:m},{default:l(()=>[(p(!0),U(Q,null,I(m.cols,w=>(p(),O(A,{key:w.name,props:m},{default:l(()=>[V(R(w.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(m=>[e(x,{props:m,onClick:w=>C(m.row)},{default:l(()=>[(p(!0),U(Q,null,I(m.cols,w=>(p(),O(B,{key:w.name,props:m},{default:l(()=>[V(R(w.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props","onClick"])]),_:1},8,["rows","columns","loading"])])])]),_:1}),e(W,{align:"right"},{default:l(()=>[e(T,{flat:"",label:"Cancel",color:"red",onClick:N(n)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Te=a("div",{class:"text-h6"},"Create Outgoing Delivery",-1),Oe={style:{border:"1px black solid","border-radius":"10px"}},ke=a("legend",{style:{"margin-left":"1em",padding:"0.2em 0.8em"}},[a("b",null,"Header")],-1),Me={class:"row"},Ue={class:"col"},Qe={class:"col q-pl-md"},Ie={class:"row items-center justify-end"},Re={class:"row q-pt-md"},$e={class:"col"},qe={class:"col q-pl-md"},Ne={class:"row q-pt-md"},xe={class:"col"},Pe={style:{border:"1px black solid","border-radius":"10px",height:"35vh",overflow:"auto"}},Ae=a("legend",{style:{"margin-left":"1em",padding:"0.2em 0.8em"}},[a("b",null,"List Of Items")],-1),Be={__name:"outgoingCreate",setup(d){const f=z(),i=o(!1),g=o(""),r=o(""),_=o(""),h=o(""),C=o(""),y=o(""),v=o([]),u=()=>{},n=()=>{f.dialog({component:we}).onOk(async S=>{_.value=S.TSLO_SLOCD,C.value=S.MCUS_CUSNM,h.value=S.MCUS_CUSCD,c(S.TSLO_SLOCD)})},c=async S=>{i.value=!0,await H.get(`delivery/outstanding-warehouse/${btoa(S)}`).then(s=>{i.value=!1,v.value=s.data.data}).catch(s=>{i.value=!1})},L=S=>{f.dialog({title:"Confirmation",message:`Do you want to delete this lines no ${S+1} ?`,cancel:!0,persistent:!0}).onOk(async()=>{})},{dialogRef:m,onDialogHide:w,onDialogOK:Ge,onDialogCancel:te}=ae();return(S,s)=>(p(),O(Z,{ref_key:"dialogRef",ref:m,onHide:N(w),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:l(()=>[e(J,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:l(()=>[e(q,null,{default:l(()=>[Te]),_:1}),e(q,{class:"q-pa-sm"},{default:l(()=>[a("fieldset",Oe,[ke,e(Se,{showing:i.value,dark:""},{default:l(()=>[e(he,{size:"50px",color:"primary"})]),_:1},8,["showing"]),a("div",Me,[a("div",Ue,[e(b,{label:"Code",readonly:"",dense:"",filled:"",modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=t=>g.value=t)},null,8,["modelValue"])]),a("div",Qe,[e(b,{filled:"",modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=t=>r.value=t),dense:""},{append:l(()=>[e(E,{name:"event",class:"cursor-pointer"},{default:l(()=>[e(ge,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[e(Ce,{modelValue:r.value,"onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t),mask:"YYYY-MM-DD"},{default:l(()=>[a("div",Ie,[j(e(T,{label:"Close",color:"primary",flat:""},null,512),[[De]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),a("div",Re,[a("div",$e,[e(b,{modelValue:_.value,"onUpdate:modelValue":s[3]||(s[3]=t=>_.value=t),label:"Sales Order",dense:"",readonly:""},{append:l(()=>[e(T,{round:"",dense:"",flat:"",icon:"search",onClick:n})]),_:1},8,["modelValue"])]),a("div",qe,[e(b,{modelValue:C.value,"onUpdate:modelValue":s[4]||(s[4]=t=>C.value=t),label:"Customer",dense:"",readonly:""},null,8,["modelValue"])])]),a("div",Ne,[a("div",xe,[e(b,{modelValue:y.value,"onUpdate:modelValue":s[5]||(s[5]=t=>y.value=t),label:"Remarks",dense:""},null,8,["modelValue"])])])]),a("fieldset",Pe,[Ae,e(ve,{bordered:"",dense:""},{default:l(()=>[v.value.length>0?(p(!0),U(Q,{key:0},I(v.value,(t,P)=>(p(),O(G,{key:P,class:"q-my-sm",dense:"",loading:i.value},{default:l(()=>[e(M,{avatar:""},{default:l(()=>[e(pe,{"text-color":"blue"},{default:l(()=>[V(R(P+1),1)]),_:2},1024)]),_:2},1024),e(M,null,{default:l(()=>[e($,null,{default:l(()=>[e(b,{dense:"",label:"Item Code",filled:"",modelValue:t.TSLODETA_ITMCD,"onUpdate:modelValue":k=>t.TSLODETA_ITMCD=k,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(M,null,{default:l(()=>[e($,null,{default:l(()=>[e(b,{dense:"",label:"Item Name",filled:"",modelValue:t.MITM_ITMNM,"onUpdate:modelValue":k=>t.MITM_ITMNM=k,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(M,null,{default:l(()=>[e($,null,{default:l(()=>[e(b,{dense:"",label:"Qty",filled:"",modelValue:t.BALQT,"onUpdate:modelValue":k=>t.BALQT=k},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024),e(M,{side:""},{default:l(()=>[e(T,{icon:"delete",color:"red",flat:"",onClick:k=>L(P)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["loading"]))),128)):j((p(),O(G,{key:1,class:"q-my-sm",clickable:""},{default:l(()=>[e(M,null,{default:l(()=>[e($,null,{default:l(()=>[V(" Choose sales order first to access item list ")]),_:1})]),_:1})]),_:1})),[[fe]])]),_:1})])]),_:1}),e(W,{align:"right"},{default:l(()=>[e(T,{label:"OK",color:"primary",onClick:s[6]||(s[6]=t=>u())}),e(T,{flat:"",label:"Cancel",color:"red",onClick:N(te)},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ee={class:"q-pa-md"},ze={class:"row q-pb-md"},He=a("div",{class:"col"},[a("span",{class:"text-h4"},"Outgoing")],-1),Ke={class:"col text-right"},Ye={class:"row q-pt-md"},je={class:"col"},ol={__name:"outgoingView",setup(d){const f=z(),i=o([]),g=o([{name:"TDLVORD_DLVCD",label:"Delivery ID",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer Name",field:"MCUS_CUSNM",sortable:!0,align:"left"},{name:"TDLVORD_ISSUDT",label:"Issue Date",field:"TDLVORD_ISSUDT",sortable:!0,align:"left"},{name:"TDLVORD_REMARK",label:"Remark",field:"TDLVORD_REMARK",sortable:!0,align:"left"}]),r=o(!1),_=o(""),h=o("");F(()=>{C()});const C=async()=>{r.value=!0,await H.post("delivery/searchAPI",{searchBy:_.value,searchValue:h.value}).then(v=>{r.value=!1,i.value=v.data.data}).catch(v=>{r.value=!1})},y=()=>{f.dialog({component:Be}).onOk(async v=>{C()})};return(v,u)=>(p(),U("div",Ee,[a("div",ze,[He,a("div",Ke,[e(T,{icon:"add",color:"blue",onClick:y},{default:l(()=>[e(K,null,{default:l(()=>[V("Create New Delivery")]),_:1})]),_:1})])]),e(_e),a("div",Ye,[a("div",je,[e(ee,{title:"Outgoing List",rows:i.value,columns:g.value,"row-key":"TDLVORD_DLVCD",loading:r.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":l(()=>[e(le,{outlined:"",modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=n=>_.value=n),options:g.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(b,{borderless:"",dense:"",modelValue:h.value,"onUpdate:modelValue":[u[1]||(u[1]=n=>h.value=n),u[2]||(u[2]=n=>C())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[e(E,{name:"search"})]),_:1},8,["modelValue"])]),header:l(n=>[e(x,{props:n},{default:l(()=>[(p(!0),U(Q,null,I(n.cols,c=>(p(),O(A,{key:c.name,props:n},{default:l(()=>[V(R(c.label),1)]),_:2},1032,["props"]))),128)),e(A,{"auto-width":""},{default:l(()=>[V("Action")]),_:1})]),_:2},1032,["props"])]),body:l(n=>[e(x,{props:n},{default:l(()=>[(p(!0),U(Q,null,I(n.cols,c=>(p(),O(B,{key:c.name,props:n},{default:l(()=>[V(R(c.value),1)]),_:2},1032,["props"]))),128)),e(B,{"auto-width":""},{default:l(()=>[e(T,{flat:"",color:"orange",icon:"edit",onClick:u[3]||(u[3]=c=>v.onEdit()),dense:""},{default:l(()=>[e(K,null,{default:l(()=>[V("Edit Data")]),_:1})]),_:1})]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{ol as default};
