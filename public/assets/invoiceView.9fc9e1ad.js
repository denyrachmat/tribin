import{u as T,j as I,k as L,l as _}from"./QTable.18621d58.js";import{s as i,o as B,B as r,P as p,I as w,E as t,D as a,Z as U,am as N,R as h,S as C,C as V,H as u,O as b,Q as D}from"./index.93b6c0b1.js";import{Q as g,a as Q}from"./QTd.0ee3bbc1.js";import{Q as k}from"./QTooltip.51c33cdf.js";import{api_web as y}from"./axios.04964434.js";const O={class:"q-pa-md"},R={class:"row"},M={class:"col"},q={__name:"invoiceView",setup(P){T();const m=i([]),f=i([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),o=i(!1),d=i(""),c=i("");B(()=>{S()});const S=async()=>{o.value=!0,await y.post("invoices/search",{searchBy:d.value,searchValue:c.value}).then(s=>{o.value=!1,m.value=s.data.data}).catch(s=>{o.value=!1})},v=async s=>{o.value=!0,await y.post("invoices/printInvoice",s).then(l=>{o.value=!1,window.open("").document.write("<iframe width='100%' height='100%' src='data:application/pdf;base64, "+encodeURI(l.data)+"'></iframe>")}).catch(l=>{o.value=!1})};return(s,l)=>(r(),p("div",O,[w("div",R,[w("div",M,[t(I,{title:"Invoice List",rows:m.value,columns:f.value,"row-key":"name",loading:o.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[t(L,{outlined:"",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(U,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[l[1]||(l[1]=e=>c.value=e),l[2]||(l[2]=e=>s.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[t(N,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[t(g,{props:e},{default:a(()=>[(r(!0),p(h,null,C(e.cols,n=>(r(),V(_,{key:n.name,props:e},{default:a(()=>[u(b(n.label),1)]),_:2},1032,["props"]))),128)),t(_,{"auto-width":""},{default:a(()=>[u("Action")]),_:1})]),_:2},1032,["props"])]),body:a(e=>[t(g,{props:e},{default:a(()=>[(r(!0),p(h,null,C(e.cols,n=>(r(),V(Q,{key:n.name,props:e},{default:a(()=>[u(b(n.value),1)]),_:2},1032,["props"]))),128)),t(Q,{"auto-width":""},{default:a(()=>[t(D,{flat:"",color:"green",icon:"print",dense:"",onClick:n=>v(e.row)},{default:a(()=>[t(k,null,{default:a(()=>[u("Print Invoice")]),_:1})]),_:2},1032,["onClick"]),t(D,{flat:"",color:"indigo",icon:"print",dense:"",onClick:n=>v(e.row.TDLVORD_DLVCD)},{default:a(()=>[t(k,null,{default:a(()=>[u("Print Receipt")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{q as default};
