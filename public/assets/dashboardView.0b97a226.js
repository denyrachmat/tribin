import{s as p,B as s,C as _,D as e,E as t,J as v,K as d,P as S,aa as k,I as l,b1 as c,S as q,L as N,Q as D,M as A,O as B,o as x,R as i,a_ as u,a$ as C,b4 as O,H as w}from"./index.37d304b0.js";import{u as R,a as Q,b as V,o as $}from"./use-dialog-plugin-component.02d6f6fc.js";import{Q as T,a as E}from"./QTd.16e75f6d.js";import{api_web as I}from"./axios.a72b3dae.js";const M=l("div",{class:"text-h6"},"Approval List",-1),L={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},H={__name:"viewListApproval",props:{listApprv:Array},setup(P){const f=P,g=p([{name:"APP_CD",label:"Doc Code",field:"APP_CD"},{name:"APP_CUSNM",label:"Customer",field:"APP_CUSNM"},{name:"APP_SBJCT",label:"Subject",field:"APP_SBJCT"},{name:"APP_ATTN",label:"Attn",field:"APP_ATTN"},{name:"CREATED_AT",label:"Created Date",field:"CREATED_AT"}]);p([]);const{dialogRef:b,onDialogHide:m,onDialogOK:h,onDialogCancel:y}=R();return(n,r)=>(s(),_(B,{ref_key:"dialogRef",ref:b,onHide:A(m),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:e(()=>[t(v,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:e(()=>[t(d,null,{default:e(()=>[M]),_:1}),t(d,{class:"q-pa-sm"},{default:e(()=>[t(Q,{grid:"",flat:"",bordered:"","card-container-class":n.cardContainerClass,title:"Treats",rows:f.listApprv,columns:g.value,"row-key":"name",filter:n.filter,"hide-header":"",pagination:{rowsPerPage:50},"rows-per-page-options":n.rowsPerPageOptions},{"top-right":e(()=>[t(S,{borderless:"",dense:"",debounce:"300",modelValue:n.filter,"onUpdate:modelValue":r[0]||(r[0]=a=>n.filter=a),placeholder:"Search"},{append:e(()=>[t(k,{name:"search"})]),_:1},8,["modelValue"])]),item:e(a=>[l("div",L,[t(v,{flat:"",bordered:""},{default:e(()=>[t(d,{class:"text-center bg-secondary"},{default:e(()=>[l("strong",null,c(a.row.APP_CUSNM),1)]),_:2},1024),t(q),t(d,null,{default:e(()=>[l("strong",null,c(a.row.APP_CD),1)]),_:2},1024)]),_:2},1024)])]),_:1},8,["card-container-class","rows","columns","filter","rows-per-page-options"])]),_:1}),t(N,{align:"right"},{default:e(()=>[t(D,{label:"OK",color:"primary",onClick:r[1]||(r[1]=a=>A(h)()),disable:n.stateSubmit},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},K={class:"q-pa-md bg-grey-5 window-height"},U={class:"row"},J={class:"row"},z={class:"col"},j={class:"text-h3 text-cyan"},F={class:"text-subtitle2 text-cyan"},G={class:"col text-right"},W={class:"row q-pa-sm"},X={class:"col"},Y={key:1},le={__name:"dashboardView",setup(P){const f=V(),g=p([{total:900,title:"Total Sales",icon:"shopping_cart",color:"cyan"},{total:900,title:"Total Purchase",icon:"shopping_bag",color:"cyan"},{total:900,title:"Total Profit",icon:"payments",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"}]),b=p([{name:"name",label:"Business",field:"name",sortable:!0,align:"left"},{name:"quot",label:"Quotation",field:"quot_count",sortable:!0,align:"center"},{name:"pr",label:"Purchase Request",field:"pr_count",sortable:!0,align:"center"},{name:"po",label:"Purchase Order",field:"po_count",sortable:!0,align:"center"},{name:"spk",label:"SPK",field:"spk_count",sortable:!0,align:"center"}]),m=p([]);x(()=>{h()});const h=async()=>{await I.get("/approval/notificationsAPI/top-user").then(n=>{m.value=n.data})},y=n=>{f.dialog({component:H,componentProps:{listApprv:n}}).onOk(async r=>{quotationGroupConditions.value=r.MCONDITION_RPT_STAT,quotationConditions.value=r.group})};return(n,r)=>(s(),i("div",K,[l("div",U,[(s(!0),i(u,null,C(g.value,(a,o)=>(s(),i("div",{class:O("col-3 q-pa-sm"),key:o},[t(v,null,{default:e(()=>[t(d,null,{default:e(()=>[l("div",J,[l("div",z,[l("div",j,c(a.total),1),l("div",F,c(a.title),1)]),l("div",G,[t(k,{name:a.icon,size:"4.4em",color:a.color},null,8,["name","color"])])])]),_:2},1024)]),_:2},1024)]))),128))]),l("div",W,[l("div",X,[t(Q,{flat:"",bordered:"",title:"Approval List",rows:m.value,columns:b.value,"row-key":"name"},{header:e(a=>[t(T,{props:a},{default:e(()=>[(s(!0),i(u,null,C(a.cols,o=>(s(),_($,{key:o.name,props:a},{default:e(()=>[w(c(o.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:e(a=>[t(T,{props:a},{default:e(()=>[(s(!0),i(u,null,C(a.cols,o=>(s(),_(E,{key:o.name,props:a},{default:e(()=>[o.name==="quot"||o.name==="pr"||o.name==="po"||o.name==="spk"?(s(),i(u,{key:0},[o.value>0?(s(),_(D,{key:0,flat:"",color:"blue",onClick:Z=>y(a.row[o.name.split("_")[0]])},{default:e(()=>[l("b",null,c(o.value),1)]),_:2},1032,["onClick"])):(s(),i("span",Y,c(o.value),1))],64)):(s(),i(u,{key:1},[w(c(o.value),1)],64))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])])]))}};export{le as default};
