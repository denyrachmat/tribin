import{t as c,C as v,R as h,F as l,aI as w,J as o,E as d,$ as x,av as k,U as Q,Q as y}from"./index.0eb888c4.js";import{Q as q,a as V,C as b}from"./ClosePopup.1eceb257.js";import{Q as g}from"./QUploader.99844bad.js";import{u as D}from"./use-quasar.1127b2d6.js";import"./use-dialog-plugin-component.6f53ea95.js";import{api_web as U}from"./axios.6bf13e11.js";import"./use-render-cache.3aae9b27.js";import"./date.1a4c6c12.js";import"./format.793ce247.js";const C={class:"q-pa-md"},F=o("div",{class:"row q-pb-md"},[o("div",{class:"col"},[o("span",{class:"text-h4"},"Transfer Location")]),o("div",{class:"col text-right"})],-1),B={class:"row q-col-gutter-md q-pt-md"},I={class:"col-12"},P={class:"row items-center justify-end"},T={class:"row q-col-gutter-md q-pt-md"},Y={class:"col-12"},E=o("div",{class:"row q-col-gutter-md q-pt-md"},null,-1),G={__name:"stockTakeIndex",setup(S){D();const t=c(""),i=c(null),n=c(!1),u=s=>{i.value=s[0],n.value=!0},p=async s=>{console.log(s);const e=await new Promise((a,f)=>{let r=new FormData;r.append("file",i.value),r.append("date",t.value),U.post("inventory/uploadStockTake",r).then(_=>{a(_.data)})});if(e)return e},m=(s,e)=>{console.log(s)};return(s,e)=>(v(),h("div",C,[F,l(w),o("div",B,[o("div",I,[l(x,{filled:"",modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),label:"Eff Date",dense:""},{prepend:d(()=>[l(k,{name:"event",class:"cursor-pointer"},{default:d(()=>[l(q,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:d(()=>[l(V,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value=a),mask:"YYYY-MM-DD"},{default:d(()=>[o("div",P,[Q(l(y,{label:"Close",color:"primary",flat:""},null,512),[[b]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),o("div",T,[o("div",Y,[l(g,{class:"full-height",url:"http://localhost:4444/upload",label:"Upload Stock Take",color:"amber","text-color":"black",accept:".xlsx, .xls","max-files":t.value?1:0,style:{width:"100%"},"auto-upload":"",factory:p,"form-fields":a=>[{name:"file",value:a[0]},{name:"date",value:t.value}],onFactoryFailed:e[2]||(e[2]=(a,f)=>m(a)),onAdd:u},null,8,["max-files","form-fields"])])]),E]))}};export{G as default};
