import{u as T,j as B,k as I,l as v}from"./QTable.d3c2443a.js";import{s as r,o as L,B as i,P as p,I as _,E as l,D as e,Z as N,am as U,R as b,S as h,C as w,H as u,O as g,Q as V}from"./index.97e53437.js";import{Q as C,a as Q}from"./QTd.45cc31ae.js";import{Q as D}from"./QTooltip.4f2270e3.js";import{api_web as k}from"./axios.f4b000a1.js";const M={class:"q-pa-md"},O={class:"row"},P={class:"col"},A={__name:"invoiceView",setup(R){T();const m=r([]),f=r([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),o=r(!1),d=r(""),c=r("");L(()=>{y()});const y=async()=>{o.value=!0,await k.post("invoices/search",{searchBy:d.value,searchValue:c.value}).then(n=>{o.value=!1,m.value=n.data.data}).catch(n=>{o.value=!1})},S=async n=>{o.value=!0,await k.post("invoices/printInvoice",n).then(t=>{o.value=!1,console.log(t),window.open("data:application/pdf;base64, "+btoa(t.data))}).catch(t=>{o.value=!1})};return(n,t)=>(i(),p("div",M,[_("div",O,[_("div",P,[l(B,{title:"Invoice List",rows:m.value,columns:f.value,"row-key":"name",loading:o.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[l(I,{outlined:"",modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),l(N,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[t[1]||(t[1]=a=>c.value=a),t[2]||(t[2]=a=>n.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[l(U,{name:"search"})]),_:1},8,["modelValue"])]),header:e(a=>[l(C,{props:a},{default:e(()=>[(i(!0),p(b,null,h(a.cols,s=>(i(),w(v,{key:s.name,props:a},{default:e(()=>[u(g(s.label),1)]),_:2},1032,["props"]))),128)),l(v,{"auto-width":""},{default:e(()=>[u("Action")]),_:1})]),_:2},1032,["props"])]),body:e(a=>[l(C,{props:a},{default:e(()=>[(i(!0),p(b,null,h(a.cols,s=>(i(),w(Q,{key:s.name,props:a},{default:e(()=>[u(g(s.value),1)]),_:2},1032,["props"]))),128)),l(Q,{"auto-width":""},{default:e(()=>[l(V,{flat:"",color:"green",icon:"print",dense:"",onClick:s=>S(a.row)},{default:e(()=>[l(D,null,{default:e(()=>[u("Print Invoice")]),_:1})]),_:2},1032,["onClick"]),l(V,{flat:"",color:"indigo",icon:"print",dense:""},{default:e(()=>[l(D,null,{default:e(()=>[u("Print Receipt")]),_:1})]),_:1})]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{A as default};
