import{t as u,o as E,C as i,R as m,F as t,aM as y,J as r,E as a,$ as V,at as k,S as C,T as O,D as Q,I as d,P as R,Q as D}from"./index.f1b068dd.js";import{e as q}from"./QSelect.d4f530b4.js";import{a as I,b as T}from"./QTable.d47ff713.js";import{Q as b,a as g}from"./QTd.bc8f83ee.js";import{Q as N}from"./QTooltip.fb7c83cf.js";import{api_web as h}from"./axios.b06b8979.js";import{u as P}from"./format.4b332ec1.js";const S={class:"q-pa-md"},B=r("div",{class:"row q-pb-md"},[r("div",{class:"col"},[r("span",{class:"text-h4"},"Transfer Request")]),r("div",{class:"col text-right"})],-1),x={class:"row q-pt-md"},A={class:"col"},G={__name:"transferRequestIndex",setup(F){const L=P(),f=u([]),v=u([{name:"TLOCREQ_DOCNO",label:"Doc Np",field:"TLOCREQ_DOCNO",sortable:!0,align:"left"},{name:"TLOCREQ_FRLOC",label:"From Location",field:"TLOCREQ_FRLOC",sortable:!0,align:"left"},{name:"TLOCREQ_TOLOC",label:"To Location",field:"TLOCREQ_TOLOC",sortable:!0,align:"left"},{name:"TLOCREQ_ISREP",label:"Is Replacement ?",field:"TLOCREQ_ISREP",sortable:!0,format:l=>`${l==1?"Yes":"No"}`,align:"left"}]),s=u(!1),c=u(""),p=u("");E(()=>{_()});const _=async()=>{s.value=!0,await h.post("inventory/transferRequest/searchAPI",{searchBy:c.value,searchValue:p.value}).then(l=>{s.value=!1,f.value=l.data.data}).catch(l=>{s.value=!1})},w=l=>{L.dialog({title:"Confirmation",message:"Are you sure want to approve this transfer ?",cancel:!0,persistent:!0}).onOk(async()=>{s.value=!0,await h.get(`inventory/transferRequest/approve/${btoa(l)}`).then(o=>{s.value=!1,_()}).catch(o=>{s.value=!1})})};return(l,o)=>(i(),m("div",S,[B,t(y),r("div",x,[r("div",A,[t(I,{title:"Transfer Request List",rows:f.value,columns:v.value,"row-key":"TDLVORD_DLVCD",loading:s.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[t(q,{outlined:"",modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),options:v.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(V,{borderless:"",dense:"",modelValue:p.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>p.value=e),o[2]||(o[2]=e=>l.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[t(k,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[t(b,{props:e},{default:a(()=>[(i(!0),m(C,null,O(e.cols,n=>(i(),Q(T,{key:n.name,props:e},{default:a(()=>[d(R(n.label),1)]),_:2},1032,["props"]))),128)),t(T,{"auto-width":""},{default:a(()=>[d("Action")]),_:1})]),_:2},1032,["props"])]),body:a(e=>[t(b,{props:e},{default:a(()=>[(i(!0),m(C,null,O(e.cols,n=>(i(),Q(g,{key:n.name,props:e},{default:a(()=>[d(R(n.value),1)]),_:2},1032,["props"]))),128)),t(g,{"auto-width":""},{default:a(()=>[t(D,{flat:"",color:"indigo",icon:"check",onClick:n=>w(e.row.TLOCREQ_DOCNO),dense:"",disable:e.row.TLOCREQ_APPRVBY!==null},{default:a(()=>[t(N,null,{default:a(()=>[d("Approve Data")]),_:1})]),_:2},1032,["onClick","disable"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{G as default};
