import{s as p,B as s,C as _,D as a,E as o,J as C,K as d,P as S,aa as A,I as l,H as y,b1 as i,S as Q,b4 as q,L as x,Q as k,M as w,O as N,o as B,R as r,a_ as u,a$ as v,b5 as O}from"./index.38ba086d.js";import{u as $,a as D,n as R}from"./use-dialog-plugin-component.9d02c4ed.js";import{Q as T,a as V}from"./QTd.64f8e98c.js";import{api_web as E}from"./axios.c77064cb.js";const I=l("div",{class:"text-h6"},"Approval List",-1),L={class:"q-pa-xs col-xs-12 col-sm-6 col-md-4"},M=l("br",null,null,-1),z={__name:"viewListApproval",props:{listApprv:Array},setup(P){const f=P,g=p([{name:"APP_CD",label:"Doc Code",field:"APP_CD"},{name:"APP_CUSNM",label:"Customer",field:"APP_CUSNM"},{name:"APP_SBJCT",label:"Subject",field:"APP_SBJCT"},{name:"APP_ATTN",label:"Attn",field:"APP_ATTN"},{name:"CREATED_AT",label:"Created Date",field:"CREATED_AT"}]);p([]);const{dialogRef:m,onDialogHide:b,onDialogOK:h,onDialogCancel:c}=$();return(n,t)=>(s(),_(N,{ref_key:"dialogRef",ref:m,onHide:w(b),"transition-show":"slide-up","transition-hide":"slide-down","full-width":"",persistent:""},{default:a(()=>[o(C,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:a(()=>[o(d,null,{default:a(()=>[I]),_:1}),o(d,{class:"q-pa-sm"},{default:a(()=>[o(D,{grid:"",flat:"",bordered:"","card-container-class":n.cardContainerClass,title:"Treats",rows:f.listApprv,columns:g.value,"row-key":"name",filter:n.filter,"hide-header":"",pagination:{rowsPerPage:5},"rows-per-page-options":n.rowsPerPageOptions},{"top-right":a(()=>[o(S,{borderless:"",dense:"",debounce:"300",modelValue:n.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>n.filter=e),placeholder:"Search"},{append:a(()=>[o(A,{name:"search"})]),_:1},8,["modelValue"])]),item:a(e=>[l("div",L,[o(C,{flat:"",bordered:""},{default:a(()=>[o(d,{class:"text-center"},{default:a(()=>[y(" Calories for "),M,l("strong",null,i(e.row.name),1)]),_:2},1024),o(Q),o(d,{class:"flex flex-center",style:q({fontSize:e.row.calories/2+"px"})},{default:a(()=>[l("div",null,i(e.row.calories)+" g",1)]),_:2},1032,["style"])]),_:2},1024)])]),_:1},8,["card-container-class","rows","columns","filter","rows-per-page-options"])]),_:1}),o(x,{align:"right"},{default:a(()=>[o(k,{label:"OK",color:"primary",onClick:t[1]||(t[1]=e=>w(h)()),disable:n.stateSubmit},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},H={class:"q-pa-md bg-grey-5 window-height"},K={class:"row"},J={class:"row"},U={class:"col"},j={class:"text-h3 text-cyan"},F={class:"text-subtitle2 text-cyan"},G={class:"col text-right"},W={class:"row q-pa-sm"},X={class:"col"},Y={key:1},le={__name:"dashboardView",setup(P){const f=p([{total:900,title:"Total Sales",icon:"shopping_cart",color:"cyan"},{total:900,title:"Total Purchase",icon:"shopping_bag",color:"cyan"},{total:900,title:"Total Profit",icon:"payments",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"},{total:15,title:"Total Customer",icon:"group",color:"cyan"}]),g=p([{name:"name",label:"Business",field:"name",sortable:!0,align:"left"},{name:"quot",label:"Quotation",field:"quot_count",sortable:!0,align:"center"},{name:"pr",label:"Purchase Request",field:"pr_count",sortable:!0,align:"center"},{name:"po",label:"Purchase Order",field:"po_count",sortable:!0,align:"center"},{name:"spk",label:"SPK",field:"spk_count",sortable:!0,align:"center"}]),m=p([]);B(()=>{b()});const b=async()=>{await E.get("/approval/notificationsAPI/top-user").then(c=>{m.value=c.data})},h=c=>{$q.dialog({component:z,componentProps:{listApprv:c}}).onOk(async n=>{quotationGroupConditions.value=n.MCONDITION_RPT_STAT,quotationConditions.value=n.group})};return(c,n)=>(s(),r("div",H,[l("div",K,[(s(!0),r(u,null,v(f.value,(t,e)=>(s(),r("div",{class:O("col-3 q-pa-sm"),key:e},[o(C,null,{default:a(()=>[o(d,null,{default:a(()=>[l("div",J,[l("div",U,[l("div",j,i(t.total),1),l("div",F,i(t.title),1)]),l("div",G,[o(A,{name:t.icon,size:"4.4em",color:t.color},null,8,["name","color"])])])]),_:2},1024)]),_:2},1024)]))),128))]),l("div",W,[l("div",X,[o(D,{flat:"",bordered:"",title:"Approval List",rows:m.value,columns:g.value,"row-key":"name"},{header:a(t=>[o(T,{props:t},{default:a(()=>[(s(!0),r(u,null,v(t.cols,e=>(s(),_(R,{key:e.name,props:t},{default:a(()=>[y(i(e.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(t=>[o(T,{props:t},{default:a(()=>[(s(!0),r(u,null,v(t.cols,e=>(s(),_(V,{key:e.name,props:t},{default:a(()=>[e.name==="quot"||e.name==="pr"||e.name==="po"||e.name==="spk"?(s(),r(u,{key:0},[e.value>0?(s(),_(k,{key:0,flat:"",color:"blue",onClick:Z=>h(t.row[e.name.split("_")[0]])},{default:a(()=>[l("b",null,i(e.value),1)]),_:2},1032,["onClick"])):(s(),r("span",Y,i(e.value),1))],64)):(s(),r(u,{key:1},[y(i(e.value),1)],64))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns"])])])]))}};export{le as default};
