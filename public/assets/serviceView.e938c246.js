import{Q as _}from"./QTooltip.b2b6bd7e.js";import{s as i,o as U,B as d,R as m,I as r,E as a,D as e,Q as v,S as T,H as n,P as N,aa as q,aY as b,aZ as w,C as Q,a$ as k}from"./index.47d9b7c4.js";import{u as B,a as P,b as R,n as g}from"./QTable.1d3a39e2.js";import{Q as V,a as O}from"./QTd.2ee256e9.js";import{api_web as x}from"./axios.5396d5b4.js";const H={class:"q-pa-md"},$={class:"row q-pb-md"},E=r("div",{class:"col"},[r("span",{class:"text-h4"},"Receive Order ")],-1),I={class:"col text-right"},j={class:"row q-pt-md"},A={class:"col"},z={__name:"serviceView",setup(F){const S=B(),c=i("TQUO_QUOCD"),p=i(""),f=i([]),C=i([{name:"SRVH_DOCNO",label:"SPK No",field:"SRVH_DOCNO",sortable:!0,align:"left"},{name:"SRVH_CUSCD",label:"Cust",field:"SRVH_CUSCD",sortable:!0,align:"left"},{name:"action",label:"Action",field:"action",sortable:!0,align:"left"}]),u=i(!1);U(()=>{h()});const h=async()=>{u.value=!0,await x.post("service/search",{searchBy:c.value,searchValue:p.value}).then(t=>{u.value=!1,f.value=t.data.data}).catch(t=>{u.value=!1})},y=()=>{S.dialog({component:quotationCreate}).onOk(async t=>{h()})},D=t=>{window.open("https://joss.jatpowerindo.co.id/PDF/quotation/"+btoa(t),"_blank").focus()};return(t,s)=>(d(),m("div",H,[r("div",$,[E,r("div",I,[a(v,{icon:"add",color:"blue",onClick:y},{default:e(()=>[a(_,null,{default:e(()=>[n("Create New Order")]),_:1})]),_:1})])]),a(T),r("div",j,[r("div",A,[a(P,{title:"Created Order",rows:f.value,columns:C.value,"row-key":"name",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":e(()=>[a(R,{outlined:"",modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=o=>c.value=o),options:C.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),a(N,{borderless:"",dense:"",modelValue:p.value,"onUpdate:modelValue":[s[1]||(s[1]=o=>p.value=o),s[2]||(s[2]=o=>t.dataQuo())],placeholder:"Search",outlined:"",debounce:"1000"},{append:e(()=>[a(q,{name:"search"})]),_:1},8,["modelValue"])]),header:e(o=>[a(V,{props:o},{default:e(()=>[(d(!0),m(b,null,w(o.cols,l=>(d(),Q(g,{key:l.name,props:o},{default:e(()=>[n(k(l.label),1)]),_:2},1032,["props"]))),128)),a(g,{"auto-width":""},{default:e(()=>[n("Action")]),_:1})]),_:2},1032,["props"])]),body:e(o=>[a(V,{props:o},{default:e(()=>[(d(!0),m(b,null,w(o.cols,l=>(d(),Q(O,{key:l.name,props:o},{default:e(()=>[n(k(l.value),1)]),_:2},1032,["props"]))),128)),a(O,{"auto-width":""},{default:e(()=>[a(v,{flat:"",color:"orange",icon:"edit",onClick:l=>t.onClickEdit(o.row.TQUO_QUOCD),dense:""},{default:e(()=>[a(_,null,{default:e(()=>[n("Edit this quotation")]),_:1})]),_:2},1032,["onClick"]),a(v,{flat:"",color:"indigo",icon:"print",onClick:l=>D(o.row.TQUO_QUOCD),dense:""},{default:e(()=>[a(_,null,{default:e(()=>[n("Print this order")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{z as default};
