import{t as i,o as O,C as w,R as q,F as t,aM as I,J as a,$ as f,Q as C}from"./index.cbc0c0ec.js";import{e as p}from"./QSelect.c785006f.js";import{u as _}from"./format.e5183d24.js";import"./use-dialog-plugin-component.57a4c6a2.js";import{api_web as c}from"./axios.64a316fe.js";const h={class:"q-pa-md"},T=a("div",{class:"row q-pb-md"},[a("div",{class:"col"},[a("span",{class:"text-h4"},"Transfer Location")]),a("div",{class:"col text-right"})],-1),y={class:"row q-col-gutter-md q-pt-md"},F={class:"col-12"},D={class:"row q-col-gutter-md q-pt-md"},N={class:"col-12"},Q={class:"row q-col-gutter-md q-pt-md"},U={class:"col-12 col-sm-6"},$={class:"col-12 col-sm-6"},S={class:"row q-col-gutter-md q-pt-md"},k={class:"col-12"},B={class:"row q-col-gutter-md q-pt-md"},A={class:"col-12"},j={__name:"transferLocIndex",setup(P){const g=_(),r=i(""),d=i(""),u=i(""),m=i(""),v=i(0);O(async()=>{await M(""),await V("")});const M=async(l,e="MSUP_SUPNM")=>{loading.value=!0,await c.post("location/searchAPI",{searchBy:e,searchValue:l}).then(o=>{loading.value=!1,listLoc.value=o.data.data}).catch(o=>{loading.value=!1})},V=async l=>{loading.value=!0,await c.post("item/searchAPI",{searchValue:l}).then(e=>{loading.value=!1,listItems.value=e.data.data}).catch(()=>{loading.value=!1})},b=()=>{g.dialog({title:"Confirmation",message:`Are you sure want to transfer from ${d.value} to ${u.value} ?`,cancel:!0,persistent:!0}).onOk(async()=>{loading.value=!0,await c.post("location",{header:header.value}).then(l=>{loading.value=!1,g.notify({color:"green",message:`${l.data.msg}`}),onDialogOK()}).catch(()=>{loading.value=!1})})},L=()=>{r.value="",d.value="",u.value="",m.value="",v.value=0};return(l,e)=>(w(),q("div",h,[T,t(I),a("div",y,[a("div",F,[t(f,{label:"Doc Code",dense:"",filled:"",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o)},null,8,["modelValue"])])]),a("div",D,[a("div",N,[t(p,{dense:"",filled:"",label:"Item Name",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=o=>m.value=o),"use-input":"","input-debounce":"500",options:l.listItems,onFilter:e[2]||(e[2]=(o,s,n)=>l.filterFn(o,s,n,"item")),behavior:"dialog","option-label":"MITM_ITMNMREAL","option-value":"MITM_ITMNM","emit-value":"","map-options":"",loading:l.loading},null,8,["modelValue","options","loading"])])]),a("div",Q,[a("div",U,[t(p,{dense:"",filled:"",label:"Transfer From",modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o),"use-input":"","input-debounce":"500",options:l.listLoc,onFilter:e[4]||(e[4]=(o,s,n)=>l.filterFn(o,s,n,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:l.loading},null,8,["modelValue","options","loading"])]),a("div",$,[t(p,{dense:"",filled:"",label:"Transfer To",modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=o=>u.value=o),"use-input":"","input-debounce":"500",options:l.listLoc,onFilter:e[6]||(e[6]=(o,s,n)=>l.filterFn(o,s,n,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:l.loading},null,8,["modelValue","options","loading"])])]),a("div",S,[a("div",k,[t(f,{label:"Qty",dense:"",filled:"",modelValue:v.value,"onUpdate:modelValue":e[7]||(e[7]=o=>v.value=o)},null,8,["modelValue"])])]),a("div",B,[a("div",A,[t(C,{color:"primary",label:"Save",onClick:e[8]||(e[8]=o=>b())}),t(C,{color:"warning",label:"Clear",onClick:e[9]||(e[9]=o=>L())})])])]))}};export{j as default};
