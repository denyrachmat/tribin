import{Q as M}from"./QTooltip.0adef6a3.js";import{t as i,o as N,C as d,R as _,J as r,F as t,E as a,Q as T,aI as V,I as n,$ as O,av as B,S as C,T as g,D as b,P as w}from"./index.5d493791.js";import{Q as S}from"./QSelect.cf6a2fc6.js";import{Q as A,a as Q}from"./QTable.38bb805e.js";import{Q as h,a as y}from"./QTd.108085bb.js";import{api_web as E}from"./axios.8fce3e86.js";import{u as P}from"./use-quasar.5ff04d5d.js";import{_ as R}from"./itemCreate.0694f0ba.js";import"./format.fbf5c514.js";import"./QItemLabel.24928778.js";import"./QList.e4da8cc8.js";import"./use-dialog-plugin-component.a93cd6ac.js";const $={class:"q-pa-md"},x={class:"row q-pb-md"},F=r("div",{class:"col"},[r("span",{class:"text-h4"},"Item Master")],-1),U={class:"col text-right"},q={class:"row q-pt-md"},Y={class:"col"},le={__name:"itemMasterIndex",setup(L){const k=P(),f=i([]),p=i([{name:"MITM_ITMCD",label:"Item Code",field:"MITM_ITMCD",sortable:!0,align:"left"},{name:"MITM_ITMNM",label:"Item Name",field:"MITM_ITMNM",sortable:!0,align:"left"},{name:"MITM_ITMTYPE",label:"Item Type",field:"MITM_ITMTYPE",sortable:!0,align:"left"},{name:"MITM_STKUOM",label:"UOM",field:"MITM_STKUOM",sortable:!0,align:"left"},{name:"MITM_ITMCAT",label:"Category",field:"MITM_ITMCAT",sortable:!0,align:"left"},{name:"MITM_BRANCH",label:"Category",field:"MITM_BRANCH",sortable:!0,align:"left"}]),u=i(!1),m=i(""),c=i("");N(()=>{I()});const I=async()=>{u.value=!0,await E.post("item/searchAPITBL",{searchBy:m.value,searchValue:c.value,isITMCD:1}).then(s=>{u.value=!1,f.value=s.data.data}).catch(s=>{u.value=!1})},v=(s=[])=>{k.dialog({component:R,componentProps:{ItemCat:"",ItemType:"",isAutoCD:!1,listOpenField:[]}}).onOk(async l=>{I()})},D=s=>{};return(s,l)=>(d(),_("div",$,[r("div",x,[F,r("div",U,[t(T,{icon:"add",color:"blue",onClick:l[0]||(l[0]=e=>v())},{default:a(()=>[t(M,null,{default:a(()=>[n("Create New Item")]),_:1})]),_:1})])]),t(V),r("div",q,[r("div",Y,[t(A,{title:"Item Master List",rows:f.value,columns:p.value,"row-key":"MITM_ITMCD",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[t(S,{outlined:"",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),options:p.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(O,{borderless:"",dense:"",modelValue:c.value,"onUpdate:modelValue":[l[2]||(l[2]=e=>c.value=e),l[3]||(l[3]=e=>s.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[t(B,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[t(h,{props:e},{default:a(()=>[t(Q,{"auto-width":""},{default:a(()=>[n("Action")]),_:1}),(d(!0),_(C,null,g(e.cols,o=>(d(),b(Q,{key:o.name,props:e},{default:a(()=>[n(w(o.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(e=>[t(h,{props:e},{default:a(()=>[t(y,{"auto-width":""},{default:a(()=>[t(T,{flat:"",color:parseInt(e.row.CONFIRMED_QTY)==e.row.TOT_RCV?"grey":"orange",icon:"edit",onClick:o=>v(e.row),dense:""},{default:a(()=>[t(M,null,{default:a(()=>[n("Edit Data")]),_:1})]),_:2},1032,["color","onClick"]),t(T,{flat:"",color:parseInt(e.row.CONFIRMED_QTY)==e.row.TOT_RCV?"grey":"red",icon:"delete",onClick:o=>D(e.row.id),dense:""},{default:a(()=>[t(M,null,{default:a(()=>[n("Delete Data")]),_:1})]),_:2},1032,["color","onClick"])]),_:2},1024),(d(!0),_(C,null,g(e.cols,o=>(d(),b(y,{key:o.name,props:e},{default:a(()=>[n(w(o.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{le as default};
