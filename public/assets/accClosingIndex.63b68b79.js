import{t as r,o as D,C as i,R as f,F as t,aY as w,J as n,E as l,$ as V,an as y,I as d,S as b,T as C,D as Q,P as p,Q as k}from"./index.32cca4fb.js";import{u as M,j as P,k as S,l as _}from"./QTable.ac32beff.js";import{Q as g,a as h}from"./QTd.94eff323.js";import{Q as O}from"./QTooltip.d1a57ca7.js";import{api_web as A}from"./axios.152bea4b.js";const B={class:"q-pa-md"},R=n("div",{class:"row q-pb-md"},[n("div",{class:"col"},[n("span",{class:"text-h4"},"Closing Interface")]),n("div",{class:"col text-right"})],-1),U={class:"row q-pt-md"},x={class:"col"},j={__name:"accClosingIndex",setup(E){M();const c=r("DOCCD"),m=r(""),T=r([]),v=r([{name:"DOCCD",label:"Document",field:"DOCCD",sortable:!0,align:"left"},{name:"ITMCD",label:"Item Code",field:"ITMCD",sortable:!0,align:"left"},{name:"ITMDESC",label:"Item Desc",field:"ITMDESC",sortable:!0,align:"left"},{name:"ITMQT",label:"Qty",field:"ITMQT",sortable:!0,format:a=>a.toLocaleString(),align:"left"},{name:"ITMPRC",label:"Amount",field:"ITMPRC",sortable:!0,format:a=>a.toLocaleString(),align:"left"},{name:"TOT",label:"Total Amount",field:a=>a.ITMQT*a.ITMPRC,sortable:!0,format:a=>a.toLocaleString(),align:"left"}]),u=r(!1);D(()=>{I()});const I=async()=>{u.value=!0,await A.post("acc/searchAPI",{searchBy:c.value,searchValue:m.value}).then(a=>{u.value=!1,T.value=a.data.data}).catch(a=>{u.value=!1})};return(a,o)=>(i(),f("div",B,[R,t(w),n("div",U,[n("div",x,[t(P,{title:"Created Quotation",rows:T.value,columns:v.value,"row-key":"name",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":l(()=>[t(S,{outlined:"",modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),options:v.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),t(V,{borderless:"",dense:"",modelValue:m.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>m.value=e),o[2]||(o[2]=e=>a.dataQuo())],placeholder:"Search",outlined:"",debounce:"1000"},{append:l(()=>[t(y,{name:"search"})]),_:1},8,["modelValue"])]),header:l(e=>[t(g,{props:e},{default:l(()=>[t(_,{"auto-width":""},{default:l(()=>[d("Action")]),_:1}),(i(!0),f(b,null,C(e.cols,s=>(i(),Q(_,{key:s.name,props:e},{default:l(()=>[d(p(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:l(e=>[t(g,{props:e},{default:l(()=>[t(h,{"auto-width":""},{default:l(()=>[t(k,{flat:"",color:"orange",icon:"visibility",onClick:s=>a.onClickView(e.row.TQUO_QUOCD),dense:"",disable:e.row.TQUO_APPRVDT!==null},{default:l(()=>[t(O,null,{default:l(()=>[d(p(e.row.TQUO_APPRVDT?"Quotation already approved, cannot edit !":"Edit this quotation"),1)]),_:2},1024)]),_:2},1032,["onClick","disable"])]),_:2},1024),(i(!0),f(b,null,C(e.cols,s=>(i(),Q(h,{key:s.name,props:e},{default:l(()=>[d(p(s.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{j as default};
