import{t as i,o as _,C as O,R as q,F as s,aM as I,J as a,$ as b,Q as V}from"./index.5787758f.js";import{e as p}from"./QSelect.a50da21c.js";import{u as h}from"./format.6c1086cf.js";import"./use-dialog-plugin-component.4fe554ee.js";import{api_web as g}from"./axios.48ac2d41.js";const T={class:"q-pa-md"},y=a("div",{class:"row q-pb-md"},[a("div",{class:"col"},[a("span",{class:"text-h4"},"Transfer Location")]),a("div",{class:"col text-right"})],-1),D={class:"row q-col-gutter-md q-pt-md"},N={class:"col-12"},Q={class:"row q-col-gutter-md q-pt-md"},F={class:"col-12"},U={class:"row q-col-gutter-md q-pt-md"},$={class:"col-12 col-sm-6"},S={class:"col-12 col-sm-6"},k={class:"row q-col-gutter-md q-pt-md"},B={class:"col-12"},A={class:"row q-col-gutter-md q-pt-md"},P={class:"col-12"},z={__name:"transferLocIndex",setup(R){const f=h(),r=i(""),d=i(""),u=i(""),m=i(""),c=i(0);_(async()=>{await C(""),await M("")});const v=(l,e,o,t)=>{e(async()=>{t==="loc"&&await C(l),t==="item"&&await M(l)})},C=async(l,e="MSUP_SUPNM")=>{loading.value=!0,await g.post("location/searchAPI",{searchBy:e,searchValue:l}).then(o=>{loading.value=!1,listLoc.value=o.data.data}).catch(o=>{loading.value=!1})},M=async l=>{loading.value=!0,await g.post("item/searchAPI",{searchValue:l}).then(e=>{loading.value=!1,listItems.value=e.data.data}).catch(()=>{loading.value=!1})},L=()=>{f.dialog({title:"Confirmation",message:`Are you sure want to transfer from ${d.value} to ${u.value} ?`,cancel:!0,persistent:!0}).onOk(async()=>{loading.value=!0,await g.post("location",{header:header.value}).then(l=>{loading.value=!1,f.notify({color:"green",message:`${l.data.msg}`}),onDialogOK()}).catch(()=>{loading.value=!1})})},w=()=>{r.value="",d.value="",u.value="",m.value="",c.value=0};return(l,e)=>(O(),q("div",T,[y,s(I),a("div",D,[a("div",N,[s(b,{label:"Doc Code",dense:"",filled:"",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o)},null,8,["modelValue"])])]),a("div",Q,[a("div",F,[s(p,{dense:"",filled:"",label:"Item Name",modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=o=>m.value=o),"use-input":"","input-debounce":"500",options:l.listItems,onFilter:e[2]||(e[2]=(o,t,n)=>v(o,t,n,"item")),behavior:"dialog","option-label":"MITM_ITMNMREAL","option-value":"MITM_ITMNM","emit-value":"","map-options":"",loading:l.loading},null,8,["modelValue","options","loading"])])]),a("div",U,[a("div",$,[s(p,{dense:"",filled:"",label:"Transfer From",modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=o=>d.value=o),"use-input":"","input-debounce":"500",options:l.listLoc,onFilter:e[4]||(e[4]=(o,t,n)=>v(o,t,n,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:l.loading},null,8,["modelValue","options","loading"])]),a("div",S,[s(p,{dense:"",filled:"",label:"Transfer To",modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=o=>u.value=o),"use-input":"","input-debounce":"500",options:l.listLoc,onFilter:e[6]||(e[6]=(o,t,n)=>v(o,t,n,"loc")),behavior:"dialog","option-label":"MLOC_LOCCD","option-value":"MLOC_LOCNM","emit-value":"","map-options":"",loading:l.loading},null,8,["modelValue","options","loading"])])]),a("div",k,[a("div",B,[s(b,{label:"Qty",dense:"",filled:"",modelValue:c.value,"onUpdate:modelValue":e[7]||(e[7]=o=>c.value=o)},null,8,["modelValue"])])]),a("div",A,[a("div",P,[s(V,{color:"primary",label:"Save",onClick:e[8]||(e[8]=o=>L())}),s(V,{color:"warning",label:"Clear",onClick:e[9]||(e[9]=o=>w())})])])]))}};export{z as default};
