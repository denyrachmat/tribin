import{s as c,o as k,B as r,C as V,D as a,E as e,L as A,M as I,I as d,O as h,P as v,R as D,S as C,Z as M,Y as R,aX as S,am as N,H as T,Q as q}from"./index.d342fcee.js";import{a as L,l as U,k as B,m as Q}from"./QTable.3e75f0d7.js";import{Q as y,a as w}from"./QTd.6155349e.js";import{Q as E}from"./QTooltip.0972e8e1.js";import{api_web as O}from"./axios.2110acf1.js";const $={class:"text-h6"},H={class:"col"},P={class:"col q-pl-md"},x={class:"col q-pl-md"},F={__name:"onCheckItem",props:{dataHeader:Array},setup(b){L();const g=b,p=c([]),f=c([]);k(()=>{p.value=g.dataHeader.dlvdet,m()});const m=async t=>{loading.value=!0,await O.post("item/searchAPITBL",{searchValue:t}).then(i=>{loading.value=!1,f.value=i.data.data}).catch(()=>{loading.value=!1})},_=(t,i,s,n)=>{i(async()=>{n==="item"&&await m(t)})};return(t,i)=>(r(),V(R,{ref:"dialogRef",onHide:t.onDialogHide,"transition-show":"slide-up","transition-hide":"slide-down","full-width":""},{default:a(()=>[e(A,{class:"q-dialog-plugin bg-white q-pa-sm"},{default:a(()=>[e(I,null,{default:a(()=>[d("div",$,"Item Check "+h(t.val),1)]),_:1}),e(I,null,{default:a(()=>[(r(!0),v(D,null,C(p.value,(s,n)=>(r(),v("div",{class:"row",key:n},[d("div",H,[e(M,{filled:"",dense:"",label:"Item Request",modelValue:s.MITM_ITMNMREAL,"onUpdate:modelValue":l=>s.MITM_ITMNMREAL=l,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),d("div",P,[e(M,{filled:"",dense:"",label:"Qty",modelValue:s.TDLVORDDETA_ITMQT,"onUpdate:modelValue":l=>s.TDLVORDDETA_ITMQT=l,readonly:""},null,8,["modelValue","onUpdate:modelValue"])]),d("div",x,[e(U,{dense:"",filled:"",label:"Item Name",modelValue:s.TDLVORDDETA_ITMCD_ACT,"onUpdate:modelValue":l=>s.TDLVORDDETA_ITMCD_ACT=l,"use-input":"","input-debounce":"500",options:f.value,onFilter:i[0]||(i[0]=(l,o,u)=>_(l,o,u,"item")),behavior:"dialog","option-label":"MITM_ITMNM","option-value":"MITM_ITMCD","emit-value":"","map-options":"",loading:t.loading},null,8,["modelValue","onUpdate:modelValue","options","loading"])])]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}},X={class:"q-pa-md"},Y=d("div",{class:"row q-pb-md"},[d("div",{class:"col"},[d("span",{class:"text-h4"},"Outgoing Confirmation")])],-1),Z={class:"row q-pt-md"},j={class:"col"},ee={__name:"outConfView",setup(b){const g=L(),p=c([]),f=c([{name:"TDLVORD_DLVCD",label:"DO Number",field:"TDLVORD_DLVCD",sortable:!0,align:"left"},{name:"MCUS_CUSNM",label:"Customer",field:"MCUS_CUSNM",sortable:!0,align:"left"}]),m=c(!1),_=c(""),t=c("");k(()=>{i()});const i=async()=>{m.value=!0,await O.post("delivery/unconfirmed",{searchBy:_.value,searchValue:t.value}).then(n=>{m.value=!1,p.value=n.data.data}).catch(n=>{m.value=!1})},s=n=>{console.log(n),g.dialog({component:F,componentProps:{dataHeader:n}}).onOk(async l=>{})};return(n,l)=>(r(),v("div",X,[Y,e(S),d("div",Z,[d("div",j,[e(B,{title:"Outstanding Confirmation",rows:p.value,columns:f.value,"row-key":"name",loading:m.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[e(U,{outlined:"",modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=o=>_.value=o),options:f.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),e(M,{borderless:"",dense:"",modelValue:t.value,"onUpdate:modelValue":[l[1]||(l[1]=o=>t.value=o),l[2]||(l[2]=o=>n.dataOutstanding())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[e(N,{name:"search"})]),_:1},8,["modelValue"])]),header:a(o=>[e(y,{props:o},{default:a(()=>[(r(!0),v(D,null,C(o.cols,u=>(r(),V(Q,{key:u.name,props:o},{default:a(()=>[T(h(u.label),1)]),_:2},1032,["props"]))),128)),e(Q,{"auto-width":""},{default:a(()=>[T("Action")]),_:1})]),_:2},1032,["props"])]),body:a(o=>[e(y,{props:o},{default:a(()=>[(r(!0),v(D,null,C(o.cols,u=>(r(),V(w,{key:u.name,props:o},{default:a(()=>[T(h(u.value),1)]),_:2},1032,["props"]))),128)),e(w,{"auto-width":""},{default:a(()=>[e(q,{flat:"",color:"green",icon:"check",onClick:u=>s(o.row),dense:""},{default:a(()=>[e(E,null,{default:a(()=>[T("Confirm Delivery")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{ee as default};
