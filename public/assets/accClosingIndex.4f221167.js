import{t as r,o as D,C as i,R as p,F as l,aY as w,J as n,E as a,$ as V,an as y,I as d,S as b,T as C,D as Q,P as f,Q as k}from"./index.4b06e12e.js";import{u as M,j as P,k as O,l as _}from"./QTable.27ee4fac.js";import{Q as g,a as h}from"./QTd.1ef59304.js";import{Q as S}from"./QTooltip.27f2619f.js";import{api_web as A}from"./axios.94cc0257.js";const B={class:"q-pa-md"},R=n("div",{class:"row q-pb-md"},[n("div",{class:"col"},[n("span",{class:"text-h4"},"Closing Interface")]),n("div",{class:"col text-right"})],-1),U={class:"row q-pt-md"},x={class:"col"},J={__name:"accClosingIndex",setup(E){M();const c=r("DOCCD"),m=r(""),v=r([]),T=r([{name:"DOCCD",label:"Document",field:"DOCCD",sortable:!0,align:"left"},{name:"ITMCD",label:"Item Code",field:"ITMCD",sortable:!0,align:"left"},{name:"ITMDESC",label:"Item Desc",field:"ITMDESC",sortable:!0,align:"left"},{name:"ITMQT",label:"Qty",field:"ITMQT",sortable:!0,align:"left"},{name:"ITMPRC",label:"Amount",field:"ITMPRC",sortable:!0,align:"left"},{name:"TOT",label:"Amount",field:t=>t.ITMQT*t.ITMPRC,sortable:!0,align:"left"}]),u=r(!1);D(()=>{I()});const I=async()=>{u.value=!0,await A.post("acc/searchAPI",{searchBy:c.value,searchValue:m.value}).then(t=>{u.value=!1,v.value=t.data.data}).catch(t=>{u.value=!1})};return(t,o)=>(i(),p("div",B,[R,l(w),n("div",U,[n("div",x,[l(P,{title:"Created Quotation",rows:v.value,columns:T.value,"row-key":"name",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[l(O,{outlined:"",modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=e=>c.value=e),options:T.value,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),l(V,{borderless:"",dense:"",modelValue:m.value,"onUpdate:modelValue":[o[1]||(o[1]=e=>m.value=e),o[2]||(o[2]=e=>t.dataQuo())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[l(y,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[l(g,{props:e},{default:a(()=>[l(_,{"auto-width":""},{default:a(()=>[d("Action")]),_:1}),(i(!0),p(b,null,C(e.cols,s=>(i(),Q(_,{key:s.name,props:e},{default:a(()=>[d(f(s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(e=>[l(g,{props:e},{default:a(()=>[l(h,{"auto-width":""},{default:a(()=>[l(k,{flat:"",color:"orange",icon:"visibility",onClick:s=>t.onClickView(e.row.TQUO_QUOCD),dense:"",disable:e.row.TQUO_APPRVDT!==null},{default:a(()=>[l(S,null,{default:a(()=>[d(f(e.row.TQUO_APPRVDT?"Quotation already approved, cannot edit !":"Edit this quotation"),1)]),_:2},1024)]),_:2},1032,["onClick","disable"])]),_:2},1024),(i(!0),p(b,null,C(e.cols,s=>(i(),Q(h,{key:s.name,props:e},{default:a(()=>[d(f(s.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{J as default};
