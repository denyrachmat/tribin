import{t as r,o as h,C as i,R as C,F as l,aM as M,J as s,E as a,$ as R,at as D,I as d,S as p,T,D as b,P as f,Q as v}from"./index.1dcb9619.js";import{e as y}from"./QSelect.deacf136.js";import{a as N,b as g}from"./QTable.a62de0b2.js";import{Q as B,a as V}from"./QTd.bd0e1fcf.js";import{Q as w}from"./QTooltip.a1b0a4f2.js";import{api_web as S}from"./axios.1eec131d.js";import{u as k}from"./format.77712231.js";const P={class:"q-pa-md"},O=s("div",{class:"row q-pb-md"},[s("div",{class:"col"},[s("span",{class:"text-h4"},"Incoming Barcode")]),s("div",{class:"col text-right"})],-1),U={class:"row q-pt-md"},E={class:"col"},j={__name:"incomingBarcodeIndex",setup(F){k();const _=r([]),I=r([{name:"TRCVBC_BCCD",label:"Barcode ID",field:"TRCVBC_BCCD",sortable:!0,align:"left"},{name:"TRCV_RCVCD",label:"Doc No",field:"TRCV_RCVCD",sortable:!0,align:"left"},{name:"MSUP_SUPNM",label:"Supplier",field:"MSUP_SUPNM",sortable:!0,align:"left"},{name:"MITM_ITMNM",label:"Item Name",field:"MITM_ITMNM",sortable:!0,align:"left"},{name:"TRCVBC_BCQT",label:"Qty",field:"TRCVBC_BCQT",sortable:!0,align:"right",format:o=>`${o.toLocaleString()}`}]),u=r(!1),c=r(""),m=r("");h(()=>{Q()});const Q=async()=>{u.value=!0,await S.post("receiveBarcode/searchAPI",{searchBy:c.value,searchValue:m.value}).then(o=>{u.value=!1,_.value=o.data.data}).catch(o=>{u.value=!1})};return(o,n)=>(i(),C("div",P,[O,l(M),s("div",U,[s("div",E,[l(N,{title:"Barcoded Incoming List",rows:_.value,columns:I.value,"row-key":"TRCVBC_BCCD",loading:u.value,dense:"",pagination:{rowsPerPage:20},class:"my-sticky-header-column-table"},{"top-right":a(()=>[l(y,{outlined:"",modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e),options:o.col,label:"Search Columns","option-value":"name","option-label":"label","emit-value":"",dense:"","map-options":""},null,8,["modelValue","options"]),l(R,{borderless:"",dense:"",modelValue:m.value,"onUpdate:modelValue":[n[1]||(n[1]=e=>m.value=e),n[2]||(n[2]=e=>o.getOutgoingData())],placeholder:"Search",outlined:"",debounce:"1000"},{append:a(()=>[l(D,{name:"search"})]),_:1},8,["modelValue"])]),header:a(e=>[l(B,{props:e},{default:a(()=>[l(g,{"auto-width":""},{default:a(()=>[d("Action")]),_:1}),(i(!0),C(p,null,T(e.cols,t=>(i(),b(g,{key:t.name,props:e},{default:a(()=>[d(f(t.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(e=>[l(B,{props:e},{default:a(()=>[l(V,{"auto-width":""},{default:a(()=>[l(v,{flat:"",color:"red",icon:"delete",onClick:t=>o.onDelete(e.row.id),dense:"",disable:parseInt(e.row.CONFIRMED_QTY)==e.row.TOT_RCV},{default:a(()=>[l(w,null,{default:a(()=>[d(f(parseInt(e.row.CONFIRMED_QTY)==e.row.TOT_RCV?"All qty already confirmed":"Cancel Barcode"),1)]),_:2},1024)]),_:2},1032,["onClick","disable"]),l(v,{flat:"",color:"indigo",icon:"print",onClick:t=>o.onPrint(e.row),dense:"",disable:parseInt(e.row.CONFIRMED_QTY)==e.row.TOT_RCV},{default:a(()=>[l(w,null,{default:a(()=>[d("Print Barcode")]),_:1})]),_:2},1032,["onClick","disable"])]),_:2},1024),(i(!0),C(p,null,T(e.cols,t=>(i(),b(V,{key:t.name,props:e},{default:a(()=>[d(f(t.value),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["rows","columns","loading"])])])]))}};export{j as default};
